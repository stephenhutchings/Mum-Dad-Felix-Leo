!function(){"use strict";var t="undefined"!=typeof window?window:global;if("function"!=typeof t.require){var e={},n={},i=function(t,e){return{}.hasOwnProperty.call(t,e)},r=function(t,e){var n,i,r=[];n=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/");for(var s=0,o=n.length;o>s;s++)i=n[s],".."===i?r.pop():"."!==i&&""!==i&&r.push(i);return r.join("/")},s=function(t){return t.split("/").slice(0,-1).join("/")},o=function(e){return function(n){var i=s(e),o=r(i,n);return t.require(o,e)}},a=function(t,e){var i={id:t,exports:{}};return n[t]=i,e(i.exports,o(t),i),i.exports},l=function(t,s){var o=r(t,".");if(null==s&&(s="/"),i(n,o))return n[o].exports;if(i(e,o))return a(o,e[o]);var l=r(o,"./index");if(i(n,l))return n[l].exports;if(i(e,l))return a(l,e[l]);throw new Error('Cannot find module "'+t+'" from "'+s+'"')},h=function(t,n){if("object"==typeof t)for(var r in t)i(t,r)&&(e[r]=t[r]);else e[t]=n},c=function(){var t=[];for(var n in e)i(e,n)&&t.push(n);return t};t.require=l,t.require.define=h,t.require.register=h,t.require.list=c,t.require.brunch=!0}}(),function(){function t(t,e,n){for(var i=(n||0)-1,r=t?t.length:0;++i<r;)if(t[i]===e)return i;return-1}function e(e,n){var i=typeof n;if(e=e.cache,"boolean"==i||null==n)return e[n]?0:-1;"number"!=i&&"string"!=i&&(i="object");var r="number"==i?n:b+n;return e=(e=e[i])&&e[r],"object"==i?e&&t(e,n)>-1?0:-1:e?0:-1}function n(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:b+t,r=e[n]||(e[n]={});"object"==n?(r[i]||(r[i]=[])).push(t):r[i]=!0}}function i(t){return t.charCodeAt(0)}function r(t,e){for(var n=t.criteria,i=e.criteria,r=-1,s=n.length;++r<s;){var o=n[r],a=i[r];if(o!==a){if(o>a||"undefined"==typeof o)return 1;if(a>o||"undefined"==typeof a)return-1}}return t.index-e.index}function s(t){var e=-1,i=t.length,r=t[0],s=t[i/2|0],o=t[i-1];if(r&&"object"==typeof r&&s&&"object"==typeof s&&o&&"object"==typeof o)return!1;var a=l();a["false"]=a["null"]=a["true"]=a.undefined=!1;var h=l();for(h.array=t,h.cache=a,h.push=n;++e<i;)h.push(t[e]);return h}function o(t){return"\\"+Q[t]}function a(){return g.pop()||[]}function l(){return v.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function h(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function c(t){t.length=0,g.length<w&&g.push(t)}function u(t){var e=t.cache;e&&u(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,v.length<w&&v.push(t)}function p(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,r=n-e||0,s=Array(0>r?0:r);++i<r;)s[i]=t[e+i];return s}function f(n){function g(t){return t&&"object"==typeof t&&!ur(t)&&qi.call(t,"__wrapped__")?t:new v(t)}function v(t,e){this.__chain__=!!e,this.__wrapped__=t}function w(t){function e(){if(i){var t=p(i);$i.apply(t,arguments)}if(this instanceof e){var s=ee(n.prototype),o=n.apply(s,t||arguments);return Ie(o)?o:s}return n.apply(r,t||arguments)}var n=t[0],i=t[2],r=t[4];return cr(e,t),e}function Q(t,e,n,i,r){if(n){var s=n(t);if("undefined"!=typeof s)return s}var o=Ie(t);if(!o)return t;var l=Ii.call(t);if(!V[l]||!lr.nodeClass&&h(t))return t;var u=or[l];switch(l){case B:case R:return new u(+t);case q:case F:return new u(t);case U:return s=u(t.source,j.exec(t)),s.lastIndex=t.lastIndex,s}var f=ur(t);if(e){var d=!i;i||(i=a()),r||(r=a());for(var g=i.length;g--;)if(i[g]==t)return r[g];s=f?u(t.length):{}}else s=f?p(t):_r({},t);return f&&(qi.call(t,"index")&&(s.index=t.index),qi.call(t,"input")&&(s.input=t.input)),e?(i.push(t),r.push(s),(f?wr:Tr)(t,function(t,o){s[o]=Q(t,e,n,i,r)}),d&&(c(i),c(r)),s):s}function ee(t){return Ie(t)?Zi(t):{}}function ne(t,e,n){if("function"!=typeof t)return si;if("undefined"==typeof e||!("prototype"in t))return t;var i=t.__bindData__;if("undefined"==typeof i&&(lr.funcNames&&(i=!t.name),i=i||!lr.funcDecomp,!i)){var r=Li.call(t);lr.funcNames||(i=!X.test(r)),i||(i=A.test(r),cr(t,i))}if(i===!1||i!==!0&&1&i[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,s){return t.call(e,n,i,r,s)}}return Ln(t,e)}function ie(t){function e(){var t=l?o:this;if(r){var d=p(r);$i.apply(d,arguments)}if((s||c)&&(d||(d=p(arguments)),s&&$i.apply(d,s),c&&d.length<a))return i|=16,ie([n,u?i:-4&i,d,null,o,a]);if(d||(d=arguments),h&&(n=t[f]),this instanceof e){t=ee(n.prototype);var g=n.apply(t,d);return Ie(g)?g:t}return n.apply(t,d)}var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=1&i,h=2&i,c=4&i,u=8&i,f=n;return cr(e,t),e}function re(n,i){var r=-1,o=ge(),a=n?n.length:0,l=a>=x&&o===t,h=[];if(l){var c=s(i);c?(o=e,i=c):l=!1}for(;++r<a;){var p=n[r];o(i,p)<0&&h.push(p)}return l&&u(i),h}function oe(t,e,n,i){for(var r=(i||0)-1,s=t?t.length:0,o=[];++r<s;){var a=t[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&(ur(a)||be(a))){e||(a=oe(a,e,n));var l=-1,h=a.length,c=o.length;for(o.length+=h;++l<h;)o[c++]=a[l]}else n||o.push(a)}return o}function ae(t,e,n,i,r,s){if(n){var o=n(t,e);if("undefined"!=typeof o)return!!o}if(t===e)return 0!==t||1/t==1/e;var l=typeof t,u=typeof e;if(!(t!==t||t&&G[l]||e&&G[u]))return!1;if(null==t||null==e)return t===e;var p=Ii.call(t),f=Ii.call(e);if(p==z&&(p=$),f==z&&(f=$),p!=f)return!1;switch(p){case B:case R:return+t==+e;case q:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case U:case F:return t==Ci(e)}var d=p==W;if(!d){var g=qi.call(t,"__wrapped__"),v=qi.call(e,"__wrapped__");if(g||v)return ae(g?t.__wrapped__:t,v?e.__wrapped__:e,n,i,r,s);if(p!=$||!lr.nodeClass&&(h(t)||h(e)))return!1;var m=!lr.argsObject&&be(t)?ji:t.constructor,y=!lr.argsObject&&be(e)?ji:e.constructor;if(m!=y&&!(Ne(m)&&m instanceof m&&Ne(y)&&y instanceof y)&&"constructor"in t&&"constructor"in e)return!1}var b=!r;r||(r=a()),s||(s=a());for(var x=r.length;x--;)if(r[x]==t)return s[x]==e;var w=0;if(o=!0,r.push(t),s.push(e),d){if(x=t.length,w=e.length,o=w==x,o||i)for(;w--;){var _=x,S=e[w];if(i)for(;_--&&!(o=ae(t[_],S,n,i,r,s)););else if(!(o=ae(t[w],S,n,i,r,s)))break}}else Er(e,function(e,a,l){return qi.call(l,a)?(w++,o=qi.call(t,a)&&ae(t[a],e,n,i,r,s)):void 0}),o&&!i&&Er(t,function(t,e,n){return qi.call(n,e)?o=--w>-1:void 0});return r.pop(),s.pop(),b&&(c(r),c(s)),o}function le(t,e,n,i,r){(ur(e)?rn:Tr)(e,function(e,s){var o,a,l=e,h=t[s];if(e&&((a=ur(e))||kr(e))){for(var c=i.length;c--;)if(o=i[c]==e){h=r[c];break}if(!o){var u;n&&(l=n(h,e),(u="undefined"!=typeof l)&&(h=l)),u||(h=a?ur(h)?h:[]:kr(h)?h:{}),i.push(e),r.push(h),u||le(h,e,n,i,r)}}else n&&(l=n(h,e),"undefined"==typeof l&&(l=e)),"undefined"!=typeof l&&(h=l);t[s]=h})}function he(t,e){return t+Ri(sr()*(e-t+1))}function ce(n,i,r){var o=-1,l=ge(),h=n?n.length:0,p=[],f=!i&&h>=x&&l===t,d=r||f?a():p;if(f){var g=s(d);l=e,d=g}for(;++o<h;){var v=n[o],m=r?r(v,o,n):v;(i?!o||d[d.length-1]!==m:l(d,m)<0)&&((r||f)&&d.push(m),p.push(v))}return f?(c(d.array),u(d)):r&&c(d),p}function ue(t){return function(e,n,i){var r={};if(n=g.createCallback(n,i,3),ur(e))for(var s=-1,o=e.length;++s<o;){var a=e[s];t(r,a,n(a,s,e),e)}else wr(e,function(e,i,s){t(r,e,n(e,i,s),s)});return r}}function pe(t,e,n,i,r,s){var o=1&e,a=2&e,l=4&e,h=16&e,c=32&e;if(!a&&!Ne(t))throw new Yi;h&&!n.length&&(e&=-17,h=n=!1),c&&!i.length&&(e&=-33,c=i=!1);var u=t&&t.__bindData__;if(u&&u!==!0)return u=p(u),u[2]&&(u[2]=p(u[2])),u[3]&&(u[3]=p(u[3])),!o||1&u[1]||(u[4]=r),!o&&1&u[1]&&(e|=8),!l||4&u[1]||(u[5]=s),h&&$i.apply(u[2]||(u[2]=[]),n),c&&Ji.apply(u[3]||(u[3]=[]),i),u[1]|=e,pe.apply(null,u);var f=1==e||17===e?w:ie;return f([t,e,n,i,r,s])}function fe(){Z.shadowedProps=N,Z.array=Z.bottom=Z.loop=Z.top="",Z.init="iterable",Z.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var n in t)Z[n]=t[n];var i=Z.args;Z.firstArg=/^[^,]+/.exec(i)[0];var r=Ti("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+i+") {\n"+hr(Z)+"\n}");return r(ne,L,Ai,qi,y,be,ur,Le,Z.keys,Hi,G,ar,F,Di,Ii)}function de(t){return mr[t]}function ge(){var e=(e=g.indexOf)===Tn?t:e;return e}function ve(t){return"function"==typeof t&&zi.test(t)}function me(t){var e,n;return!t||Ii.call(t)!=$||(e=t.constructor,Ne(e)&&!(e instanceof e))||!lr.argsClass&&be(t)||!lr.nodeClass&&h(t)?!1:lr.ownLast?(Er(t,function(t,e,i){return n=qi.call(i,e),!1}),n!==!1):(Er(t,function(t,e){n=e}),"undefined"==typeof n||qi.call(t,n))}function ye(t){return yr[t]}function be(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Ii.call(t)==z||!1}function xe(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n=e,e=!1),Q(t,e,"function"==typeof n&&ne(n,i,1))}function we(t,e,n){return Q(t,!0,"function"==typeof e&&ne(e,n,1))}function _e(t,e){var n=ee(t);return e?_r(n,e):n}function Se(t,e,n){var i;return e=g.createCallback(e,n,3),Tr(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function Ee(t,e,n){var i;return e=g.createCallback(e,n,3),ke(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function Te(t,e,n){var i=[];Er(t,function(t,e){i.push(e,t)});var r=i.length;for(e=ne(e,n,3);r--&&e(i[r--],i[r],t)!==!1;);return t}function ke(t,e,n){var i=fr(t),r=i.length;for(e=ne(e,n,3);r--;){var s=i[r];if(e(t[s],s,t)===!1)break}return t}function Pe(t){var e=[];return Er(t,function(t,n){Ne(t)&&e.push(n)}),e.sort()}function je(t,e){return t?qi.call(t,e):!1}function Xe(t){for(var e=-1,n=fr(t),i=n.length,r={};++e<i;){var s=n[e];r[t[s]]=s}return r}function Ce(t){return t===!0||t===!1||t&&"object"==typeof t&&Ii.call(t)==B||!1}function Ye(t){return t&&"object"==typeof t&&Ii.call(t)==R||!1}function Oe(t){return t&&1===t.nodeType||!1}function Ae(t){var e=!0;if(!t)return e;var n=Ii.call(t),i=t.length;return n==W||n==F||(lr.argsClass?n==z:be(t))||n==$&&"number"==typeof i&&Ne(t.splice)?!i:(Tr(t,function(){return e=!1}),e)}function He(t,e,n,i){return ae(t,e,"function"==typeof n&&ne(n,i,2))}function De(t){return Qi(t)&&!tr(parseFloat(t))}function Ne(t){return"function"==typeof t}function Ie(t){return!(!t||!G[typeof t])}function ze(t){return Be(t)&&t!=+t}function We(t){return null===t}function Be(t){return"number"==typeof t||t&&"object"==typeof t&&Ii.call(t)==q||!1}function Re(t){return t&&G[typeof t]&&Ii.call(t)==U||!1}function Le(t){return"string"==typeof t||t&&"object"==typeof t&&Ii.call(t)==F||!1}function Me(t){return"undefined"==typeof t}function qe(t,e,n){var i={};return e=g.createCallback(e,n,3),Tr(t,function(t,n,r){i[n]=e(t,n,r)}),i}function $e(t){var e=arguments,n=2;if(!Ie(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var i=ne(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(i=e[--n]);for(var r=p(arguments,1,n),s=-1,o=a(),l=a();++s<n;)le(t,r[s],i,o,l);return c(o),c(l),t}function Ue(t,e,n){var i={};if("function"!=typeof e){var r=[];Er(t,function(t,e){r.push(e)}),r=re(r,oe(arguments,!0,!1,1));for(var s=-1,o=r.length;++s<o;){var a=r[s];i[a]=t[a]}}else e=g.createCallback(e,n,3),Er(t,function(t,n,r){e(t,n,r)||(i[n]=t)});return i}function Fe(t){for(var e=-1,n=fr(t),i=n.length,r=wi(i);++e<i;){var s=n[e];r[e]=[s,t[s]]}return r}function Ve(t,e,n){var i={};if("function"!=typeof e)for(var r=-1,s=oe(arguments,!0,!1,1),o=Ie(t)?s.length:0;++r<o;){var a=s[r];a in t&&(i[a]=t[a])}else e=g.createCallback(e,n,3),Er(t,function(t,n,r){e(t,n,r)&&(i[n]=t)});return i}function Je(t,e,n,i){var r=ur(t);if(null==n)if(r)n=[];else{var s=t&&t.constructor,o=s&&s.prototype;n=ee(o)}return e&&(e=g.createCallback(e,i,4),(r?wr:Tr)(t,function(t,i,r){return e(n,t,i,r)})),n}function Ke(t){for(var e=-1,n=fr(t),i=n.length,r=wi(i);++e<i;)r[e]=t[n[e]];return r}function Ze(t){var e=arguments,n=-1,i=oe(e,!0,!1,1),r=e[2]&&e[2][e[1]]===t?1:i.length,s=wi(r);for(lr.unindexedChars&&Le(t)&&(t=t.split(""));++n<r;)s[n]=t[i[n]];return s}function Ge(t,e,n){var i=-1,r=ge(),s=t?t.length:0,o=!1;return n=(0>n?nr(0,s+n):n)||0,ur(t)?o=r(t,e,n)>-1:"number"==typeof s?o=(Le(t)?t.indexOf(e,n):r(t,e,n))>-1:wr(t,function(t){return++i>=n?!(o=t===e):void 0}),o}function Qe(t,e,n){var i=!0;if(e=g.createCallback(e,n,3),ur(t))for(var r=-1,s=t.length;++r<s&&(i=!!e(t[r],r,t)););else wr(t,function(t,n,r){return i=!!e(t,n,r)});return i}function tn(t,e,n){var i=[];if(e=g.createCallback(e,n,3),ur(t))for(var r=-1,s=t.length;++r<s;){var o=t[r];e(o,r,t)&&i.push(o)}else wr(t,function(t,n,r){e(t,n,r)&&i.push(t)});return i}function en(t,e,n){if(e=g.createCallback(e,n,3),!ur(t)){var i;return wr(t,function(t,n,r){return e(t,n,r)?(i=t,!1):void 0}),i}for(var r=-1,s=t.length;++r<s;){var o=t[r];if(e(o,r,t))return o}}function nn(t,e,n){var i;return e=g.createCallback(e,n,3),sn(t,function(t,n,r){return e(t,n,r)?(i=t,!1):void 0}),i}function rn(t,e,n){if(e&&"undefined"==typeof n&&ur(t))for(var i=-1,r=t.length;++i<r&&e(t[i],i,t)!==!1;);else wr(t,e,n);return t}function sn(t,e,n){var i=t,r=t?t.length:0;if(e=e&&"undefined"==typeof n?e:ne(e,n,3),ur(t))for(;r--&&e(t[r],r,t)!==!1;);else{if("number"!=typeof r){var s=fr(t);r=s.length}else lr.unindexedChars&&Le(t)&&(i=t.split(""));wr(t,function(t,n,o){return n=s?s[--r]:--r,e(i[n],n,o)})}return t}function on(t,e){var n=p(arguments,2),i=-1,r="function"==typeof e,s=t?t.length:0,o=wi("number"==typeof s?s:0);return rn(t,function(t){o[++i]=(r?e:t[e]).apply(t,n)}),o}function an(t,e,n){var i=-1,r=t?t.length:0,s=wi("number"==typeof r?r:0);if(e=g.createCallback(e,n,3),ur(t))for(;++i<r;)s[i]=e(t[i],i,t);else wr(t,function(t,n,r){s[++i]=e(t,n,r)});return s}function ln(t,e,n){var r=-1/0,s=r;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&ur(t))for(var o=-1,a=t.length;++o<a;){var l=t[o];l>s&&(s=l)}else e=null==e&&Le(t)?i:g.createCallback(e,n,3),wr(t,function(t,n,i){var o=e(t,n,i);o>r&&(r=o,s=t)});return s}function hn(t,e,n){var r=1/0,s=r;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&ur(t))for(var o=-1,a=t.length;++o<a;){var l=t[o];s>l&&(s=l)}else e=null==e&&Le(t)?i:g.createCallback(e,n,3),wr(t,function(t,n,i){var o=e(t,n,i);r>o&&(r=o,s=t)});return s}function cn(t,e,n,i){var r=arguments.length<3;if(e=g.createCallback(e,i,4),ur(t)){var s=-1,o=t.length;for(r&&(n=t[++s]);++s<o;)n=e(n,t[s],s,t)}else wr(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)});return n}function un(t,e,n,i){var r=arguments.length<3;return e=g.createCallback(e,i,4),sn(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)}),n}function pn(t,e,n){return e=g.createCallback(e,n,3),tn(t,function(t,n,i){return!e(t,n,i)})}function fn(t,e,n){if(t&&"number"!=typeof t.length?t=Ke(t):lr.unindexedChars&&Le(t)&&(t=t.split("")),null==e||n)return t?t[he(0,t.length-1)]:d;var i=dn(t);return i.length=ir(nr(0,e),i.length),i}function dn(t){var e=-1,n=t?t.length:0,i=wi("number"==typeof n?n:0);return rn(t,function(t){var n=he(0,++e);i[e]=i[n],i[n]=t}),i}function gn(t){var e=t?t.length:0;return"number"==typeof e?e:fr(t).length}function vn(t,e,n){var i;if(e=g.createCallback(e,n,3),ur(t))for(var r=-1,s=t.length;++r<s&&!(i=e(t[r],r,t)););else wr(t,function(t,n,r){return!(i=e(t,n,r))});return!!i}function mn(t,e,n){var i=-1,s=ur(e),o=t?t.length:0,h=wi("number"==typeof o?o:0);for(s||(e=g.createCallback(e,n,3)),rn(t,function(t,n,r){var o=h[++i]=l();s?o.criteria=an(e,function(e){return t[e]}):(o.criteria=a())[0]=e(t,n,r),o.index=i,o.value=t}),o=h.length,h.sort(r);o--;){var p=h[o];h[o]=p.value,s||c(p.criteria),u(p)}return h}function yn(t){return t&&"number"==typeof t.length?lr.unindexedChars&&Le(t)?t.split(""):p(t):Ke(t)}function bn(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i}function xn(t){return re(t,oe(arguments,!0,!0,1))}function wn(t,e,n){var i=-1,r=t?t.length:0;for(e=g.createCallback(e,n,3);++i<r;)if(e(t[i],i,t))return i;return-1}function _n(t,e,n){var i=t?t.length:0;for(e=g.createCallback(e,n,3);i--;)if(e(t[i],i,t))return i;return-1}function Sn(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var s=-1;for(e=g.createCallback(e,n,3);++s<r&&e(t[s],s,t);)i++}else if(i=e,null==i||n)return t?t[0]:d;return p(t,0,ir(nr(0,i),r))}function En(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(t=an(t,n,i)),oe(t,e)}function Tn(e,n,i){if("number"==typeof i){var r=e?e.length:0;i=0>i?nr(0,r+i):i||0}else if(i){var s=Hn(e,n);return e[s]===n?s:-1}return t(e,n,i)}function kn(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var s=r;for(e=g.createCallback(e,n,3);s--&&e(t[s],s,t);)i++}else i=null==e||n?1:e||i;return p(t,0,ir(nr(0,r-i),r))}function Pn(){for(var n=[],i=-1,r=arguments.length,o=a(),l=ge(),h=l===t,p=a();++i<r;){var f=arguments[i];(ur(f)||be(f))&&(n.push(f),o.push(h&&f.length>=x&&s(i?n[i]:p)))}var d=n[0],g=-1,v=d?d.length:0,m=[];t:for(;++g<v;){var y=o[0];if(f=d[g],(y?e(y,f):l(p,f))<0){for(i=r,(y||p).push(f);--i;)if(y=o[i],(y?e(y,f):l(n[i],f))<0)continue t;m.push(f)}}for(;r--;)y=o[r],y&&u(y);return c(o),c(p),m}function jn(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var s=r;for(e=g.createCallback(e,n,3);s--&&e(t[s],s,t);)i++}else if(i=e,null==i||n)return t?t[r-1]:d;return p(t,nr(0,r-i))}function Xn(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?nr(0,i+n):ir(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function Cn(t){for(var e=arguments,n=0,i=e.length,r=t?t.length:0;++n<i;)for(var s=-1,o=e[n];++s<r;)t[s]===o&&(Vi.call(t,s--,1),r--);return t}function Yn(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var i=-1,r=nr(0,Wi((e-t)/(n||1))),s=wi(r);++i<r;)s[i]=t,t+=n;return s}function On(t,e,n){var i=-1,r=t?t.length:0,s=[];for(e=g.createCallback(e,n,3);++i<r;){var o=t[i];e(o,i,t)&&(s.push(o),Vi.call(t,i--,1),r--)}return s}function An(t,e,n){if("number"!=typeof e&&null!=e){var i=0,r=-1,s=t?t.length:0;for(e=g.createCallback(e,n,3);++r<s&&e(t[r],r,t);)i++}else i=null==e||n?1:nr(0,e);return p(t,i)}function Hn(t,e,n,i){var r=0,s=t?t.length:r;for(n=n?g.createCallback(n,i,1):si,e=n(e);s>r;){var o=r+s>>>1;n(t[o])<e?r=o+1:s=o}return r}function Dn(){return ce(oe(arguments,!0,!0))}function Nn(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(n=g.createCallback(n,i,3)),ce(t,e,n)}function In(t){return re(t,p(arguments,1))}function zn(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(ur(n)||be(n))var i=i?ce(re(i,n).concat(re(n,i))):n}return i||[]}function Wn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?ln(Cr(t,"length")):0,i=wi(0>n?0:n);++e<n;)i[e]=Cr(t,e);return i}function Bn(t,e){var n=-1,i=t?t.length:0,r={};for(e||!i||ur(t[0])||(e=[]);++n<i;){var s=t[n];e?r[s]=e[n]:s&&(r[s[0]]=s[1])}return r}function Rn(t,e){if(!Ne(e))throw new Yi;return function(){return--t<1?e.apply(this,arguments):void 0}}function Ln(t,e){return arguments.length>2?pe(t,17,p(arguments,2),null,e):pe(t,1,null,null,e)}function Mn(t){for(var e=arguments.length>1?oe(arguments,!0,!1,1):Pe(t),n=-1,i=e.length;++n<i;){var r=e[n];t[r]=pe(t[r],1,null,null,t)}return t}function qn(t,e){return arguments.length>2?pe(e,19,p(arguments,2),null,t):pe(e,3,null,null,t)}function $n(){for(var t=arguments,e=t.length;e--;)if(!Ne(t[e]))throw new Yi;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Un(t,e){return e="number"==typeof e?e:+e||t.length,pe(t,4,null,null,null,e)}function Fn(t,e,n){var i,r,s,o,a,l,h,c=0,u=!1,p=!0;if(!Ne(t))throw new Yi;if(e=nr(0,e)||0,n===!0){var f=!0;p=!1}else Ie(n)&&(f=n.leading,u="maxWait"in n&&(nr(e,n.maxWait)||0),p="trailing"in n?n.trailing:p);var g=function(){var n=e-(Or()-o);if(0>=n){r&&Bi(r);var u=h;r=l=h=d,u&&(c=Or(),s=t.apply(a,i),l||r||(i=a=null))}else l=Fi(g,n)},v=function(){l&&Bi(l),r=l=h=d,(p||u!==e)&&(c=Or(),s=t.apply(a,i),l||r||(i=a=null))};return function(){if(i=arguments,o=Or(),a=this,h=p&&(l||!f),u===!1)var n=f&&!l;else{r||f||(c=o);var d=u-(o-c),m=0>=d;m?(r&&(r=Bi(r)),c=o,s=t.apply(a,i)):r||(r=Fi(v,d))}return m&&l?l=Bi(l):l||e===u||(l=Fi(g,e)),n&&(m=!0,s=t.apply(a,i)),!m||l||r||(i=a=null),s}}function Vn(t){if(!Ne(t))throw new Yi;var e=p(arguments,1);return Fi(function(){t.apply(d,e)},1)}function Jn(t,e){if(!Ne(t))throw new Yi;var n=p(arguments,2);return Fi(function(){t.apply(d,n)},e)}function Kn(t,e){if(!Ne(t))throw new Yi;var n=function(){var i=n.cache,r=e?e.apply(this,arguments):b+arguments[0];return qi.call(i,r)?i[r]:i[r]=t.apply(this,arguments)};return n.cache={},n}function Zn(t){var e,n;if(!Ne(t))throw new Yi;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Gn(t){return pe(t,16,p(arguments,1))}function Qn(t){return pe(t,32,null,p(arguments,1))}function ti(t,e,n){var i=!0,r=!0;if(!Ne(t))throw new Yi;return n===!1?i=!1:Ie(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),J.leading=i,J.maxWait=e,J.trailing=r,Fn(t,e,J)}function ei(t,e){return pe(e,16,[t])}function ni(t){return function(){return t}}function ii(t,e,n){var i=typeof t;if(null==t||"function"==i)return ne(t,e,n);if("object"!=i)return hi(t);var r=fr(t),s=r[0],o=t[s];return 1!=r.length||o!==o||Ie(o)?function(e){for(var n=r.length,i=!1;n--&&(i=ae(e[r[n]],t[r[n]],null,!0)););return i}:function(t){var e=t[s];return o===e&&(0!==o||1/o==1/e)}}function ri(t){return null==t?"":Ci(t).replace(xr,de)}function si(t){return t}function oi(t,e,n){var i=!0,r=e&&Pe(e);e&&(n||r.length)||(null==n&&(n=e),s=v,e=t,t=g,r=Pe(e)),n===!1?i=!1:Ie(n)&&"chain"in n&&(i=n.chain);var s=t,o=Ne(s);rn(r,function(n){var r=t[n]=e[n];o&&(s.prototype[n]=function(){var e=this.__chain__,n=this.__wrapped__,o=[n];$i.apply(o,arguments);var a=r.apply(t,o);if(i||e){if(n===a&&Ie(a))return this;a=new s(a),a.__chain__=e}return a})})}function ai(){return n._=Ni,this}function li(){}function hi(t){return function(e){return e[t]}}function ci(t,e,n){var i=null==t,r=null==e;if(null==n&&("boolean"==typeof t&&r?(n=t,t=1):r||"boolean"!=typeof e||(n=e,r=!0)),i&&r&&(e=1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var s=sr();return ir(t+s*(e-t+parseFloat("1e-"+((s+"").length-1))),e)}return he(t,e)}function ui(t,e){if(t){var n=t[e];return Ne(n)?t[e]():n}}function pi(t,e,n){var i=g.templateSettings;t=Ci(t||""),n=Sr({},n,i);var r,s=Sr({},n.imports,i.imports),a=fr(s),l=Ke(s),h=0,c=n.interpolate||O,u="__p += '",p=Xi((n.escape||O).source+"|"+c.source+"|"+(c===C?P:O).source+"|"+(n.evaluate||O).source+"|$","g");t.replace(p,function(e,n,i,s,a,l){return i||(i=s),u+=t.slice(h,l).replace(H,o),n&&(u+="' +\n__e("+n+") +\n'"),a&&(r=!0,u+="';\n"+a+";\n__p += '"),i&&(u+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=l+e.length,e}),u+="';\n";var f=n.variable,v=f;v||(f="obj",u="with ("+f+") {\n"+u+"\n}\n"),u=(r?u.replace(S,""):u).replace(E,"$1").replace(T,"$1;"),u="function("+f+") {\n"+(v?"":f+" || ("+f+" = {});\n")+"var __t, __p = '', __e = _.escape"+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var m="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+I++ +"]")+"\n*/";try{var y=Ti(a,"return "+u+m).apply(d,l)}catch(b){throw b.source=u,b}return e?y(e):(y.source=u,y)}function fi(t,e,n){t=(t=+t)>-1?t:0;var i=-1,r=wi(t);for(e=ne(e,n,1);++i<t;)r[i]=e(i);return r}function di(t){return null==t?"":Ci(t).replace(br,ye)}function gi(t){var e=++m;return Ci(null==t?"":t)+e}function vi(t){return t=new v(t),t.__chain__=!0,t}function mi(t,e){return e(t),t}function yi(){return this.__chain__=!0,this}function bi(){return Ci(this.__wrapped__)}function xi(){return this.__wrapped__}n=n?se.defaults(te.Object(),n,se.pick(te,D)):te;var wi=n.Array,_i=n.Boolean,Si=n.Date,Ei=n.Error,Ti=n.Function,ki=n.Math,Pi=n.Number,ji=n.Object,Xi=n.RegExp,Ci=n.String,Yi=n.TypeError,Oi=[],Ai=Ei.prototype,Hi=ji.prototype,Di=Ci.prototype,Ni=n._,Ii=Hi.toString,zi=Xi("^"+Ci(Ii).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Wi=ki.ceil,Bi=n.clearTimeout,Ri=ki.floor,Li=Ti.prototype.toString,Mi=ve(Mi=ji.getPrototypeOf)&&Mi,qi=Hi.hasOwnProperty,$i=Oi.push,Ui=Hi.propertyIsEnumerable,Fi=n.setTimeout,Vi=Oi.splice,Ji=Oi.unshift,Ki=function(){try{var t={},e=ve(e=ji.defineProperty)&&e,n=e(t,t,t)&&e}catch(i){}return n}(),Zi=ve(Zi=ji.create)&&Zi,Gi=ve(Gi=wi.isArray)&&Gi,Qi=n.isFinite,tr=n.isNaN,er=ve(er=ji.keys)&&er,nr=ki.max,ir=ki.min,rr=n.parseInt,sr=ki.random,or={};or[W]=wi,or[B]=_i,or[R]=Si,or[M]=Ti,or[$]=ji,or[q]=Pi,or[U]=Xi,or[F]=Ci;var ar={};ar[W]=ar[R]=ar[q]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ar[B]=ar[F]={constructor:!0,toString:!0,valueOf:!0},ar[L]=ar[M]=ar[U]={constructor:!0,toString:!0},ar[$]={constructor:!0},function(){for(var t=N.length;t--;){var e=N[t];for(var n in ar)qi.call(ar,n)&&!qi.call(ar[n],e)&&(ar[n][e]=!1)}}(),v.prototype=g.prototype;var lr=g.support={};!function(){var t=function(){this.x=1},e={0:1,length:1},i=[];t.prototype={valueOf:1,y:1};for(var r in new t)i.push(r);for(r in arguments);lr.argsClass=Ii.call(arguments)==z,lr.argsObject=arguments.constructor==ji&&!(arguments instanceof wi),lr.enumErrorProps=Ui.call(Ai,"message")||Ui.call(Ai,"name"),lr.enumPrototypes=Ui.call(t,"prototype"),lr.funcDecomp=!ve(n.WinRTError)&&A.test(f),lr.funcNames="string"==typeof Ti.name,lr.nonEnumArgs=0!=r,lr.nonEnumShadows=!/valueOf/.test(i),lr.ownLast="x"!=i[0],lr.spliceObjects=(Oi.splice.call(e,0,1),!e[0]),lr.unindexedChars="x"[0]+ji("x")[0]!="xx";try{lr.nodeClass=!(Ii.call(document)==$&&!({toString:0}+""))}catch(s){lr.nodeClass=!0}}(1),g.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:C,variable:"",imports:{_:g}};var hr=function(t){var e="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(e+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",lr.unindexedChars&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):lr.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),lr.enumPrototypes&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),lr.enumErrorProps&&(e+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(lr.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),lr.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }  ";else if(e+="\n  for (index in iterable) {\n",t.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }    ",lr.nonEnumShadows){for(e+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)e+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(e+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),e+=") {\n      "+t.loop+";\n    }      ";e+="\n  }    "}return(t.array||lr.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"};Zi||(ee=function(){function t(){}return function(e){if(Ie(e)){t.prototype=e;var i=new t;t.prototype=null}return i||n.Object()}}());var cr=Ki?function(t,e){K.value=e,Ki(t,"__bindData__",K)}:li;lr.argsClass||(be=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&qi.call(t,"callee")&&!Ui.call(t,"callee")||!1});var ur=Gi||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Ii.call(t)==W||!1},pr=fe({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),fr=er?function(t){return Ie(t)?lr.enumPrototypes&&"function"==typeof t||lr.nonEnumArgs&&t.length&&be(t)?pr(t):er(t):[]}:pr,dr={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:fr,loop:"if (callback(iterable[index], index, collection) === false) return result"},gr={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:fr,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},vr={top:"if (!objectTypes[typeof iterable]) return result;\n"+dr.top,array:!1},mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yr=Xe(mr),br=Xi("("+fr(yr).join("|")+")","g"),xr=Xi("["+fr(mr).join("")+"]","g"),wr=fe(dr),_r=fe(gr,{top:gr.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Sr=fe(gr),Er=fe(dr,vr,{useHas:!1}),Tr=fe(dr,vr);Ne(/x/)&&(Ne=function(t){return"function"==typeof t&&Ii.call(t)==M});var kr=Mi?function(t){if(!t||Ii.call(t)!=$||!lr.argsClass&&be(t))return!1;var e=t.valueOf,n=ve(e)&&(n=Mi(e))&&Mi(n);return n?t==n||Mi(t)==n:me(t)}:me,Pr=ue(function(t,e,n){qi.call(t,n)?t[n]++:t[n]=1}),jr=ue(function(t,e,n){(qi.call(t,n)?t[n]:t[n]=[]).push(e)}),Xr=ue(function(t,e,n){t[n]=e}),Cr=an,Yr=tn,Or=ve(Or=Si.now)&&Or||function(){return(new Si).getTime()},Ar=8==rr(_+"08")?rr:function(t,e){return rr(Le(t)?t.replace(Y,""):t,e||0)};return g.after=Rn,g.assign=_r,g.at=Ze,g.bind=Ln,g.bindAll=Mn,g.bindKey=qn,g.chain=vi,g.compact=bn,g.compose=$n,g.constant=ni,g.countBy=Pr,g.create=_e,g.createCallback=ii,g.curry=Un,g.debounce=Fn,g.defaults=Sr,g.defer=Vn,g.delay=Jn,g.difference=xn,g.filter=tn,g.flatten=En,g.forEach=rn,g.forEachRight=sn,g.forIn=Er,g.forInRight=Te,g.forOwn=Tr,g.forOwnRight=ke,g.functions=Pe,g.groupBy=jr,g.indexBy=Xr,g.initial=kn,g.intersection=Pn,g.invert=Xe,g.invoke=on,g.keys=fr,g.map=an,g.mapValues=qe,g.max=ln,g.memoize=Kn,g.merge=$e,g.min=hn,g.omit=Ue,g.once=Zn,g.pairs=Fe,g.partial=Gn,g.partialRight=Qn,g.pick=Ve,g.pluck=Cr,g.property=hi,g.pull=Cn,g.range=Yn,g.reject=pn,g.remove=On,g.rest=An,g.shuffle=dn,g.sortBy=mn,g.tap=mi,g.throttle=ti,g.times=fi,g.toArray=yn,g.transform=Je,g.union=Dn,g.uniq=Nn,g.values=Ke,g.where=Yr,g.without=In,g.wrap=ei,g.xor=zn,g.zip=Wn,g.zipObject=Bn,g.collect=an,g.drop=An,g.each=rn,g.eachRight=sn,g.extend=_r,g.methods=Pe,g.object=Bn,g.select=tn,g.tail=An,g.unique=Nn,g.unzip=Wn,oi(g),g.clone=xe,g.cloneDeep=we,g.contains=Ge,g.escape=ri,g.every=Qe,g.find=en,g.findIndex=wn,g.findKey=Se,g.findLast=nn,g.findLastIndex=_n,g.findLastKey=Ee,g.has=je,g.identity=si,g.indexOf=Tn,g.isArguments=be,g.isArray=ur,g.isBoolean=Ce,g.isDate=Ye,g.isElement=Oe,g.isEmpty=Ae,g.isEqual=He,g.isFinite=De,g.isFunction=Ne,g.isNaN=ze,g.isNull=We,g.isNumber=Be,g.isObject=Ie,g.isPlainObject=kr,g.isRegExp=Re,g.isString=Le,g.isUndefined=Me,g.lastIndexOf=Xn,g.mixin=oi,g.noConflict=ai,g.noop=li,g.now=Or,g.parseInt=Ar,g.random=ci,g.reduce=cn,g.reduceRight=un,g.result=ui,g.runInContext=f,g.size=gn,g.some=vn,g.sortedIndex=Hn,g.template=pi,g.unescape=di,g.uniqueId=gi,g.all=Qe,g.any=vn,g.detect=en,g.findWhere=en,g.foldl=cn,g.foldr=un,g.include=Ge,g.inject=cn,oi(function(){var t={};return Tr(g,function(e,n){g.prototype[n]||(t[n]=e)}),t}(),!1),g.first=Sn,g.last=jn,g.sample=fn,g.take=Sn,g.head=Sn,Tr(g,function(t,e){var n="sample"!==e;
g.prototype[e]||(g.prototype[e]=function(e,i){var r=this.__chain__,s=t(this.__wrapped__,e,i);return r||null!=e&&(!i||n&&"function"==typeof e)?new v(s,r):s})}),g.VERSION="2.4.1",g.prototype.chain=yi,g.prototype.toString=bi,g.prototype.value=xi,g.prototype.valueOf=xi,wr(["join","pop","shift"],function(t){var e=Oi[t];g.prototype[t]=function(){var t=this.__chain__,n=e.apply(this.__wrapped__,arguments);return t?new v(n,t):n}}),wr(["push","reverse","sort","unshift"],function(t){var e=Oi[t];g.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),wr(["concat","slice","splice"],function(t){var e=Oi[t];g.prototype[t]=function(){return new v(e.apply(this.__wrapped__,arguments),this.__chain__)}}),lr.spliceObjects||wr(["pop","shift","splice"],function(t){var e=Oi[t],n="splice"==t;g.prototype[t]=function(){var t=this.__chain__,i=this.__wrapped__,r=e.apply(i,arguments);return 0===i.length&&delete i[0],t||n?new v(r,t):r}}),g}var d,g=[],v=[],m=0,y={},b=+new Date+"",x=75,w=40,_=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",S=/\b__p \+= '';/g,E=/\b(__p \+=) '' \+/g,T=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,j=/\w*$/,X=/^\s*function[ \n\r\t]+\w/,C=/<%=([\s\S]+?)%>/g,Y=RegExp("^["+_+"]*0+(?=.$)"),O=/($^)/,A=/\bthis\b/,H=/['\n\r\t\u2028\u2029\\]/g,D=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],N=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],I=0,z="[object Arguments]",W="[object Array]",B="[object Boolean]",R="[object Date]",L="[object Error]",M="[object Function]",q="[object Number]",$="[object Object]",U="[object RegExp]",F="[object String]",V={};V[M]=!1,V[z]=V[W]=V[B]=V[R]=V[q]=V[$]=V[U]=V[F]=!0;var J={leading:!1,maxWait:0,trailing:!1},K={configurable:!1,enumerable:!1,value:null,writable:!1},Z={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},G={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Q={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},te=G[typeof window]&&window||this,ee=G[typeof exports]&&exports&&!exports.nodeType&&exports,ne=G[typeof module]&&module&&!module.nodeType&&module,ie=ne&&ne.exports===ee&&ee,re=G[typeof global]&&global;!re||re.global!==re&&re.window!==re||(te=re);var se=f();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(te._=se,define(function(){return se})):ee&&ne?ie?(ne.exports=se)._=se:ee._=se:te._=se}.call(this),function(t){function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t,n){if(e(t))for(var i=0;i<t.length;i++)n(t[i]);else n(t)}function i(t){var r="pending",s=[],o=[],a=[],l=null,h={done:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(e(arguments[t]))for(var n=arguments[t],i=0;i<n.length;i++)"resolved"===r&&n[i].apply(this,l),s.push(n[i]);else"resolved"===r&&arguments[t].apply(this,l),s.push(arguments[t]);return this},fail:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(e(arguments[t]))for(var n=arguments[t],i=0;i<n.length;i++)"rejected"===r&&n[i].apply(this,l),o.push(n[i]);else"rejected"===r&&arguments[t].apply(this,l),o.push(arguments[t]);return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(e(arguments[t]))for(var n=arguments[t],i=0;i<n.length;i++)"pending"===r&&a.push(n[i]);else"pending"===r&&a.push(arguments[t]);return this},then:function(){arguments.length>1&&arguments[1]&&this.fail(arguments[1]),arguments.length>0&&arguments[0]&&this.done(arguments[0]),arguments.length>2&&arguments[2]&&this.progress(arguments[2])},promise:function(t){if(null==t)return h;for(var e in h)t[e]=h[e];return t},state:function(){return r},debug:function(){console.log("[debug]",s,o,r)},isRejected:function(){return"rejected"===r},isResolved:function(){return"resolved"===r},pipe:function(t,e){return i(function(i){n(t,function(t){c.done("function"==typeof t?function(){var e=t.apply(this,arguments);e&&"function"==typeof e?e.promise().then(i.resolve,i.reject,i.notify):i.resolve(e)}:i.resolve)}),n(e,function(t){c.fail("function"==typeof t?function(){var e=t.apply(this,arguments);e&&"function"==typeof e?e.promise().then(i.resolve,i.reject,i.notify):i.reject(e)}:i.reject)})}).promise()}},c={resolveWith:function(t){if("pending"===r){r="resolved";for(var e=l=arguments.length>1?arguments[1]:[],n=0;n<s.length;n++)s[n].apply(t,e)}return this},rejectWith:function(t){if("pending"===r){r="rejected";for(var e=l=arguments.length>1?arguments[1]:[],n=0;n<o.length;n++)o[n].apply(t,e)}return this},notifyWith:function(t){if("pending"===r)for(var e=l=arguments.length>1?arguments[1]:[],n=0;n<a.length;n++)a[n].apply(t,e);return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}},u=h.promise(c);return t&&t.apply(u,[u]),u}i.when=function(){if(arguments.length<2){var t=arguments.length?arguments[0]:void 0;return t&&"function"==typeof t.isResolved&&"function"==typeof t.isRejected?t.promise():i().resolve(t).promise()}return function(t){for(var e=i(),n=t.length,r=0,s=new Array(n),o=0;o<t.length;o++)!function(i){var o=null;t[i].done?t[i].done(function(){s[i]=arguments.length<2?arguments[0]:arguments,++r==n&&e.resolve.apply(e,s)}).fail(function(){e.reject(arguments)}):(o=t[i],t[i]=new Deferred,t[i].done(function(){s[i]=arguments.length<2?arguments[0]:arguments,++r==n&&e.resolve.apply(e,s)}).fail(function(){e.reject(arguments)}).resolve(o))}(o);return e.promise()}(arguments)},t.Deferred=i}(window),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,i,r){t.Backbone=t.Exoskeleton=e(t,r,n,i)});else if("undefined"!=typeof exports){var n,i;try{n=require("underscore")}catch(r){}try{i=require("jquery")}catch(r){}e(t,exports,n,i)}else t.Backbone=t.Exoskeleton=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,i){"use strict";var r=t.Backbone,s=t.Exoskeleton,o=e.utils=n=n||{};e.$=i;var a=[],l=a.push,h=a.slice,c={}.toString;e.noConflict=function(){return t.Backbone=r,t.Exoskeleton=s,this},e.emulateHTTP=!1,e.emulateJSON=!1,e.extend=function(t,e){var i,r=this;i=t&&hasOwnProperty.call(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var u=function(){throw new Error('A "url" property or function must be specified')},p=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}},f=function(t){return"function"==typeof n[t]};o.result=function(t,e){var n=t?t[e]:void 0;return"function"==typeof n?t[e]():n},o.defaults=function(t){return h.call(arguments,1).forEach(function(e){for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},o.extend=function(t){return h.call(arguments,1).forEach(function(e){for(var n in e)t[n]=e[n]}),t};var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};o.escape=function(t){return null==t?"":String(t).replace(/[&<>"']/g,function(t){return d[t]})},o.sortBy=function(t,e,n){var i="function"==typeof e?e:function(t){return t[e]};return t.map(function(t,e,r){return{value:t,index:e,criteria:i.call(n,t,e,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}).map(function(t){return t.value})};var g=0;o.uniqueId=function(t){var e=++g+"";return t?t+e:e};var v=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;var r=c.call(t);if(r!=c.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!==+t?e!==+e:0===t?1/t===1/e:t===+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=n.length;s--;)if(n[s]==t)return i[s]==e;var o=t.constructor,a=e.constructor;if(o!==a&&!("function"==typeof o&&o instanceof o&&"function"==typeof a&&a instanceof a))return!1;n.push(t),i.push(e);var l=0,h=!0;if("[object Array]"===r){if(l=t.length,h=l===e.length)for(;l--&&(h=v(t[l],e[l],n,i)););}else{for(var u in t)if(hasOwnProperty.call(t,u)&&(l++,!(h=hasOwnProperty.call(e,u)&&v(t[u],e[u],n,i))))break;if(h){for(u in e)if(hasOwnProperty.call(e,u)&&!l--)break;h=!l}}return n.pop(),i.pop(),h};o.isEqual=function(t,e){return v(t,e,[],[])},o.matchesSelector=function(){if("undefined"!=typeof document){var t,e="MatchesSelector",n=document.createElement("div");if(["matches","webkit"+e,"moz"+e,"ms"+e].some(function(e){var i=e in n;return t=e,i}),!t)throw new Error("Element#matches is not supported");return function(e,n){return e[t](n)}}}(),o.delegate=function(t,e,n,i){if("function"==typeof n&&(i=n,n=null),"function"!=typeof i)throw new TypeError("View#delegate expects callback function");var r=t.el,s=i.bind(t),a=n?function(t){for(var e=t.target;e&&e!==r;e=e.parentNode)if(o.matchesSelector(e,n))return t.delegateTarget=e,s(t)}:s;return r.addEventListener(e,a,!1),t._handlers.push({eventName:e,selector:n,callback:i,handler:a}),a},o.undelegate=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);var r=t._handlers,s=function(e){t.el.removeEventListener(e.eventName,e.handler,!1)};e||n||i?r.filter(function(t){return t.eventName===e&&(i?t.callback===i:!0)&&(n?t.selector===n:!0)}).forEach(function(t){s(t),r.splice(r.indexOf(t),1)}):(r.forEach(s),t._handlers=[])},o.ajax=function(){var t=/^(?:application|text)\/xml/,n=/^application\/json/,i=function(e,i){return null==e&&(e=i.getResponseHeader("content-type")),t.test(e)?i.responseXML:n.test(e)?JSON.parse(i.responseText):i.responseText},r=function(t){return t.status>=200&&t.status<300||304===t.status||0===t.status&&"file:"===window.location.protocol},s=function(t,e,n){return function(){if(4===t.readyState){var s=t.status,o=i(e.headers&&e.headers.Accept,t);if(r(t))e.success&&e.success(o),n&&n.resolve(o);else{var a=new Error("Server responded with a status of "+s);e.error&&e.error(t,s,a),n&&n.reject(t)}}}};return function(t){if(null==t)throw new Error("You must provide options");null==t.type&&(t.type="GET");var n=new XMLHttpRequest,i=e.Deferred&&e.Deferred();if(t.contentType&&(null==t.headers&&(t.headers={}),t.headers["Content-Type"]=t.contentType),"GET"===t.type&&"object"==typeof t.data){var r="",o=function(t,e){return null==e?"":"&"+encodeURIComponent(t)+"="+encodeURIComponent(e)};for(var a in t.data)r+=o(a,t.data[a]);if(r){var l=-1===t.url.indexOf("?")?"?":"&";t.url+=l+r.substring(1)}}if(t.credentials&&(t.withCredentials=!0),n.addEventListener("readystatechange",s(n,t,i)),n.open(t.type,t.url,!0),t.headers)for(var a in t.headers)n.setRequestHeader(a,t.headers[a]);return t.beforeSend&&t.beforeSend(n),n.send(t.data),i?i.promise:void 0}}();var m=e.Events={on:function(t,e,n){if(!b(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!b(this,"once",t,[e,n])||!e)return this;var i,r=this,s=function(){i||(i=!0,r.off(t,s),e.apply(this,arguments))};return s._callback=e,this.on(t,s,n)},off:function(t,e,n){var i,r,s,o,a,l,h,c;if(!this._events||!b(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(o=t?[t]:Object.keys(this._events),a=0,l=o.length;l>a;a++)if(t=o[a],s=this._events[t]){if(this._events[t]=i=[],e||n)for(h=0,c=s.length;c>h;h++)r=s[h],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=h.call(arguments,1);if(!b(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&x(n,e),i&&x(i,arguments),this},stopListening:function(t,e,n){var i=this._listeningTo;if(!i)return this;var r=!e&&!n;n||"object"!=typeof e||(n=this),t&&((i={})[t._listenId]=t);for(var s in i)t=i[s],t.off(e,n,this),(r||!Object.keys(t._events).length)&&delete this._listeningTo[s];return this}},y=/\s+/,b=function(t,e,n,i){if(!n)return!0;var r;if("object"==typeof n){for(var s in n)r=[s,n[s]],l.apply(r,i),t[e].apply(t,r);return!1}if(y.test(n)){for(var o=n.split(y),a=0,h=o.length;h>a;a++)r=[o[a]],l.apply(r,i),t[e].apply(t,r);return!1}return!0},x=function(t,e){var n,i=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},w={listenTo:"on",listenToOnce:"once"};Object.keys(w).forEach(function(t){var e=w[t];m[t]=function(t,i,r){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,r||"object"!=typeof i||(r=this),t[e](i,r,this),this}}),m.bind=m.on,m.unbind=m.off;var _=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes=Object.create(null),e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed=Object.create(null),this.initialize.apply(this,arguments)};if(n.extend(_.prototype,m,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.extend(Object.create(null),this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var r,s,o,a,l,h,c,u;if(null==t)return this;if("object"==typeof t?(s=t,i=e):(s={})[t]=e,i||(i={}),!this._validate(s,i))return!1;o=i.unset,l=i.silent,a=[],h=this._changing,this._changing=!0,h||(this._previousAttributes=n.extend(Object.create(null),this.attributes),this.changed={}),u=this.attributes,c=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(r in s)e=s[r],n.isEqual(u[r],e)||a.push(r),n.isEqual(c[r],e)?delete this.changed[r]:this.changed[r]=e,o?delete u[r]:u[r]=e;if(!l){a.length&&(this._pending=!0);for(var p=0,f=a.length;f>p;p++)this.trigger("change:"+a[p],this,u[a[p]],i)}if(h)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!!Object.keys(this.changed).length:hasOwnProperty.call(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.extend(Object.create(null),this.changed):!1;var e,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var s in t)n.isEqual(r[s],e=t[s])||((i||(i={}))[s]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.extend(Object.create(null),this._previousAttributes)},fetch:function(t){t=t?n.extend({},t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),void e.trigger("sync",e,n,t)):!1},p(this,t),this.sync("read",this,t)},save:function(t,e,i){var r,s,o,a=this.attributes;if(null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend(Object.create(null),a,r)),void 0===i.parse&&(i.parse=!0);var l=this,h=i.success;return i.success=function(t){l.attributes=a;var e=l.parse(t,i);return i.wait&&(e=n.extend(r||{},e)),e&&"object"==typeof e&&!l.set(e,i)?!1:(h&&h(l,t,i),void l.trigger("sync",l,t,i))},p(this,i),s=this.isNew()?"create":i.patch?"patch":"update","patch"===s&&(i.attrs=r),o=this.sync(s,this,i),r&&i.wait&&(this.attributes=a),o},destroy:function(t){t=t?n.extend({},t):{};var e=this,i=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&r(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;p(this,t);var s=this.sync("delete",this,t);return t.wait||r(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||u();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend(Object.create(null),this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}}),n.keys){var S=["keys","values","pairs","invert","pick","omit"];S.filter(f).forEach(function(t){_.prototype[t]=function(){var e=h.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}})}var E=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},T={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1};if(n.extend(E.prototype,m,{model:"undefined"==typeof _?null:_,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,k))},remove:function(t,e){var n=!Array.isArray(t);t=n?[t]:t.slice(),e||(e={});var i,r,s,o;for(i=0,r=t.length;r>i;i++)o=t[i]=this.get(t[i]),o&&(delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,e.silent||(e.index=s,o.trigger("remove",o,this,e)),this._removeReference(o));return n?t[0]:t},set:function(t,e){e=n.defaults({},e,T),e.parse&&(t=this.parse(t,e));var i=!Array.isArray(t);t=i?t?[t]:[]:t.slice();var r,s,o,a,l,h,c,u=e.at,p=this.model,f=this.comparator&&null==u&&e.sort!==!1,d="string"==typeof this.comparator?this.comparator:null,g=[],v=[],m={},y=e.add,b=e.merge,x=e.remove,w=!f&&y&&x?[]:!1;for(r=0,s=t.length;s>r;r++){if(l=t[r],o=l instanceof _?a=l:l[p.prototype.idAttribute],h=this.get(o))x&&(m[h.cid]=!0),b&&(l=l===a?a.attributes:l,e.parse&&(l=h.parse(l,e)),h.set(l,e),f&&!c&&h.hasChanged(d)&&(c=!0)),t[r]=h;else if(y){if(a=t[r]=this._prepareModel(l,e),!a)continue;g.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)}w&&w.push(h||a)}if(x){for(r=0,s=this.length;s>r;++r)m[(a=this.models[r]).cid]||v.push(a);v.length&&this.remove(v,e)}if(g.length||w&&w.length)if(f&&(c=!0),this.length+=g.length,null!=u)for(r=0,s=g.length;s>r;r++)this.models.splice(u+r,0,g[r]);else{w&&(this.models.length=0);var S=w||g;for(r=0,s=S.length;s>r;r++)this.models.push(S[r])}if(c&&this.sort({silent:!0}),!e.silent){for(r=0,s=g.length;s>r;r++)(a=g[r]).trigger("add",a,this,e);(c||w&&w.length)&&this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i]);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return h.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this.models[t]},where:function(t,e){return t&&Object.keys(t).length?this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0}):e?void 0:[]},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),"string"==typeof this.comparator||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(this.comparator.bind(this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.models.map(function(e){return e.get(t)})},fetch:function(t){t=t?n.extend({},t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},p(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.extend({},e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,r=e.success;return e.success=function(t,e,n){n.wait&&i.add(t,n),r&&r(t,e,n)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId=Object.create(null)},_prepareModel:function(t,e){if(t instanceof E.prototype.model)return t.collection||(t.collection=this),t;e=e?n.extend({},e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}}),f("each")){var P=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];P.filter(f).forEach(function(t){E.prototype[t]=function(){var e=h.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var j=["groupBy","countBy","sortBy"];j.filter(f).forEach(function(t){E.prototype[t]=function(e,i){var r="function"==typeof e?e:function(t){return t.get(e)};return n[t](this.models,r,i)}})}else["forEach","map","filter","some","every","reduce","reduceRight","indexOf","lastIndexOf"].forEach(function(t){E.prototype[t]=function(e,n){return this.models[t](e,n)}}),E.prototype.find=function(t,e){var n;return this.some(function(i,r,s){return t.call(e,i,r,s)?(n=i,!0):void 0}),n},["sortBy"].forEach(function(t){E.prototype[t]=function(e,i){var r="function"==typeof e?e:function(t){return t.get(e)};return n[t](this.models,r,i)}});var X=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"],Y=e.View=function(t){this.cid=n.uniqueId("view"),t&&Object.keys(t).forEach(function(e){-1!==C.indexOf(e)&&(this[e]=t[e])},this),this._handlers=[],this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};n.extend(Y.prototype,m,{useNative:!1,tagName:"div",$:function(t){return e.$&&!this.useNative?this.$el.find(t):this.findAll(t)},find:function(t){return this.el.querySelector(t)},findAll:function(t){return h.call(this.el.querySelectorAll(t))},initialize:function(){},render:function(){return this},remove:function(){var t;return e.$&&!this.useNative?this.$el.remove():(t=this.el.parentNode)&&t.removeChild(this.el),this.stopListening(),this},setElement:function(t,n){return e.$&&!this.useNative?(this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]):(this.el&&this.undelegateEvents(),this.el="string"==typeof t?document.querySelector(t):t),n!==!1&&this.delegateEvents(),this},delegateEvents:function(t,i){if(!t&&!(t=n.result(this,"events")))return this;i||this.undelegateEvents();for(var r in t){var s=t[r];"function"!=typeof s&&(s=this[t[r]]);var a=r.match(X),l=a[1],h=a[2];e.$&&!this.useNative?(l+=".delegateEvents"+this.cid,s=s.bind(this),this.$el.on(l,h?h:null,s)):o.delegate(this,l,h,s)}return this},undelegateEvents:function(){return e.$&&!this.useNative?this.$el.off(".delegateEvents"+this.cid):o.undelegate(this),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.className=n.result(this,"className")),t["class"]&&(t.className=t["class"]);var e=n.extend(document.createElement(n.result(this,"tagName")),t);this.setElement(e,!1)}}}),e.sync=function(t,i,r){var s=O[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||u()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.xhr=e.ajax(n.extend(o,r));return i.trigger("request",i,l,r),l};var O={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=e.$?function(){return e.$.ajax.apply(e.$,arguments)}:o.ajax,e.$&&(e.Deferred=function(){return new e.$.Deferred});var A=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},H=/\((.*?)\)/g,D=/(\(\?)?:\w+/g,N=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g,z=function(t){return t?"object"==typeof t&&"[object RegExp]"===c.call(t):!1};n.extend(A.prototype,m,{initialize:function(){},route:function(t,n,i){z(t)||(t=this._routeToRegExp(t)),"function"==typeof n&&(i=n,n=""),i||(i=this[n]);var r=this;return e.history.route(t,function(s){var o=r._extractParameters(t,s);i&&i.apply(r,o),r.trigger.apply(r,["route:"+n].concat(o)),r.trigger("route",n,o),e.history.trigger("route",r,n,o)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=Object.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(I,"\\$&").replace(H,"(?:$1)?").replace(D,function(t,e){return e?t:"([^/]+)"}).replace(N,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return n.map(function(t){return t?decodeURIComponent(t):null})}});var W=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,L=/\/$/,M=/[#].*$/;return W.started=!1,n.extend(W.prototype,m,{getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t){if(null==t)if(this._wantsPushState||!this._wantsHashChange){t=this.location.pathname+this.location.search;var e=this.root.replace(L,"");t.indexOf(e)||(t=t.slice(e.length))}else t=this.getHash();return t.replace(B,"")},start:function(t){if(W.started)throw new Error("Backbone.history has already been started");W.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState;var e=this.getFragment();this.root=("/"+this.root+"/").replace(R,"/"),this._wantsPushState?window.addEventListener("popstate",this.checkUrl,!1):this._wantsHashChange&&window.addEventListener("hashchange",this.checkUrl,!1),this.fragment=e;var i=this.location,r=i.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&r&&i.hash&&(this.fragment=this.getHash().replace(B,""),this.history.replaceState({},document.title,this.root+this.fragment)),this.options.silent?void 0:this.loadUrl()},stop:function(){window.removeEventListener("popstate",this.checkUrl),window.removeEventListener("hashchange",this.checkUrl),W.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment?!1:void this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),this.handlers.some(function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!W.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(M,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._wantsPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace)}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),["Model","Collection","Router","View","History"].forEach(function(t){var n=e[t];n&&(n.extend=e.extend)}),n.extend(e,m),e.history=new W,e}),window.brunch=window.brunch||{},window.brunch["auto-reload"]={enabled:!0},function(t,e){"object"==typeof exports&&"function"==typeof require?module.exports=e(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],function(n,i){return e(n||t._,i||t.Backbone)}):e(_,Backbone)}(this,function(t,e){function n(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function i(){return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}return e.LocalStorage=window.Store=function(t){if(!this.localStorage)throw"Backbone.localStorage: Environment does not support localStorage.";this.name=t;var e=this.localStorage().getItem(this.name);this.records=e&&e.split(",")||[]},t.extend(e.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(t){return t.id||(t.id=i(),t.set(t.idAttribute,t.id)),this.localStorage().setItem(this.name+"-"+t.id,JSON.stringify(t)),this.records.push(t.id.toString()),this.save(),this.find(t)},update:function(e){return this.localStorage().setItem(this.name+"-"+e.id,JSON.stringify(e)),t.include(this.records,e.id.toString())||this.records.push(e.id.toString()),this.save(),this.find(e)},find:function(t){return this.jsonData(this.localStorage().getItem(this.name+"-"+t.id))},findAll:function(){return(t.chain||t)(this.records).map(function(t){return this.jsonData(this.localStorage().getItem(this.name+"-"+t))},this).compact().value()},destroy:function(e){return e.isNew()?!1:(this.localStorage().removeItem(this.name+"-"+e.id),this.records=t.reject(this.records,function(t){return t===e.id.toString()}),this.save(),e)},localStorage:function(){return localStorage},jsonData:function(t){return t&&JSON.parse(t)},_clear:function(){var e=this.localStorage(),n=new RegExp("^"+this.name+"-");e.removeItem(this.name),(t.chain||t)(e).keys().filter(function(t){return n.test(t)}).each(function(t){e.removeItem(t)}),this.records.length=0},_storageSize:function(){return this.localStorage().length}}),e.LocalStorage.sync=window.Store.sync=e.localSync=function(t,n,i){var r,s,o=n.localStorage||n.collection.localStorage,a=Deferred&&Deferred();try{switch(t){case"read":r=void 0!=n.id?o.find(n):o.findAll();break;case"create":r=o.create(n);
break;case"update":r=o.update(n);break;case"delete":r=o.destroy(n)}}catch(l){s=22===l.code&&0===o._storageSize()?"Private browsing is unsupported":l.message}return r?(i&&i.success&&("0.9.10"===e.VERSION?i.success(n,r,i):i.success(r)),a&&a.resolve(r)):(s=s?s:"Record Not Found",i&&i.error&&("0.9.10"===e.VERSION?i.error(n,s,i):i.error(s)),a&&a.reject(s)),i&&i.complete&&i.complete(r),a&&a.promise()},e.ajaxSync=e.sync,e.getSyncMethod=function(t){return t.localStorage||t.collection&&t.collection.localStorage?e.localSync:e.ajaxSync},e.sync=function(t,n,i){return e.getSyncMethod(n).apply(this,[t,n,i])},e.LocalStorage}),function(t,e,n){function i(t,n){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in n)this.options[i]=n[i];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function r(t,n,i){var r=e.createElement("div"),s=e.createElement("div");return i===!0&&(r.style.cssText="position:absolute;z-index:9999",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),s.className="iScrollIndicator","h"==t?(i===!0&&(r.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",s.style.height="100%"),r.className="iScrollHorizontalScrollbar"):(i===!0&&(r.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",s.style.width="100%"),r.className="iScrollVerticalScrollbar"),r.style.cssText+=";overflow:hidden",n||(r.style.pointerEvents="none"),r.appendChild(s),r}function s(n,i){this.wrapper="string"==typeof i.el?e.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=n,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var r in i)this.options[r]=i[r];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(t,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(t,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[a.style.transform]=this.scroller.translateZ,this.wrapperStyle[a.style.transitionDuration]=a.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function i(t){return o===!1?!1:""===o?t:o+t.charAt(0).toUpperCase()+t.substr(1)}var r={},s=e.createElement("div").style,o=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;i>n;n++)if(t=e[n]+"ransform",t in s)return e[n].substr(0,e[n].length-1);return!1}();r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(t,e){for(var n in e)t[n]=e[n]},r.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},r.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},r.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},r.momentum=function(t,e,i,r,s,o){var a,l,h=t-e,c=n.abs(h)/i;return o=void 0===o?6e-4:o,a=t+c*c/(2*o)*(0>h?-1:1),l=c/o,r>a?(a=s?r-s/2.5*(c/8):r,h=n.abs(a-t),l=h/c):a>0&&(a=s?s/2.5*(c/8):0,h=n.abs(t)+a,l=h/c),{destination:n.round(a),duration:l}};var a=i("transform");return r.extend(r,{hasTransform:a!==!1,hasPerspective:i("perspective")in s,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:i("transition")in s}),r.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),r.extend(r.style={},{transform:a,transitionTimingFunction:i("transitionTimingFunction"),transitionDuration:i("transitionDuration"),transitionDelay:i("transitionDelay"),transformOrigin:i("transformOrigin")}),r.hasClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)},r.addClass=function(t,e){if(!r.hasClass(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}},r.removeClass=function(t,e){if(r.hasClass(t,e)){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n," ")}},r.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},r.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return n.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*n.pow(2,-10*t)*n.sin(2*(t-e/4)*n.PI/e)+1}}}),r.tap=function(t,n){var i=e.createEvent("Event");i.initEvent(n,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},r.click=function(t){var n,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(n=e.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),n._constructed=!0,i.dispatchEvent(n))},r}();i.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(!(1!=a.eventType[t.type]&&0!==t.button||!this.enabled||this.initiated&&a.eventType[t.type]!==this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(n.round(e.x),n.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,r,s,o=t.touches?t.touches[0]:t,l=o.pageX-this.pointX,h=o.pageY-this.pointY,c=a.getTime();if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=l,this.distY+=h,r=n.abs(this.distX),s=n.abs(this.distY),!(c-this.endTime>300&&10>r&&10>s)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=r>s+this.options.directionLockThreshold?"h":s>=r+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);h=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,h=this.hasVerticalScroll?h:0,e=this.x+l,i=this.y+h,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+h/3:i>0?0:this.maxScrollY),this.directionX=l>0?-1:0>l?1:0,this.directionY=h>0?-1:0>h?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,r=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),s=n.round(this.x),o=n.round(this.y),l=n.abs(s-this.startX),h=n.abs(o-this.startY),c=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(s,o),!this.moved)return this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&200>r&&100>l&&100>h)return void this._execEvent("flick");if(this.options.momentum&&300>r&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},i=this.hasVerticalScroll?a.momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:o,duration:0},s=e.destination,o=i.destination,c=n.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(s,o);this.currentPage=p,c=this.options.snapSpeed||n.max(n.max(n.min(n.abs(s-p.x),1e3),n.min(n.abs(o-p.y),1e3)),300),s=p.x,o=p.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}return s!=this.x||o!=this.y?((s>0||s<this.maxScrollX||o>0||o<this.maxScrollY)&&(u=a.ease.quadratic),void this.scrollTo(s,o,c,u)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),e==this.x&&n==this.y?!1:(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;n>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||a.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,i,r,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var o=a.offset(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,i===!0&&(i=n.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),r===!0&&(r=n.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=i||0,o.top-=r||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,e=void 0===e||null===e||"auto"===e?n.max(n.abs(this.x-o.left),n.abs(this.y-o.top)):e,this.scrollTo(o.left,o.top,e,s)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.scrollerStyle[a.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[a.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=n.round(t),e=n.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(e){var n=e?a.removeEvent:a.addEvent,i=this.options.bindToWrapper?this.wrapper:t;n(t,"orientationchange",this),n(t,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,a.prefixPointerEvent("pointerdown"),this),n(i,a.prefixPointerEvent("pointermove"),this),n(i,a.prefixPointerEvent("pointercancel"),this),n(i,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,n,i=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[a.style.transform].split(")")[0].split(", "),e=+(i[12]||i[4]),n=+(i[13]||i[5])):(e=+i.left.replace(/[^-\d.]/g,""),n=+i.top.replace(/[^-\d.]/g,"")),{x:e,y:n}},_initIndicators:function(){function t(t){for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,o=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:r("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),o.push(e)),this.options.scrollX&&(e={el:r("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),o.push(e))),this.options.indicators&&(o=o.concat(this.options.indicators));for(var l=o.length;l--;)this.indicators.push(new s(this,o[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,i,r,s,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return r=this.currentPage.pageX,s=this.currentPage.pageY,e>0?r--:0>e&&r++,i>0?s--:0>i&&s++,void this.goToPage(r,s);r=this.x+n.round(this.hasHorizontalScroll?e:0),s=this.y+n.round(this.hasVerticalScroll?i:0),r>0?r=0:r<this.maxScrollX&&(r=this.maxScrollX),s>0?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(r,s,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,r,s,o,a=0,l=0,h=0,c=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(i=n.round(c/2),r=n.round(u/2);h>-this.scrollerWidth;){for(this.pages[a]=[],t=0,s=0;s>-this.scrollerHeight;)this.pages[a][t]={x:n.max(h,this.maxScrollX),y:n.max(s,this.maxScrollY),width:c,height:u,cx:h-i,cy:s-r},s-=u,t++;h-=c,a++}else for(o=this.options.snap,t=o.length,e=-1;t>a;a++)(0===a||o[a].offsetLeft<=o[a-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),h=n.max(-o[a].offsetLeft,this.maxScrollX),s=n.max(-o[a].offsetTop,this.maxScrollY),i=h-n.round(o[a].offsetWidth/2),r=s-n.round(o[a].offsetHeight/2),this.pages[l][e]={x:h,y:s,width:o[a].offsetWidth,height:o[a].offsetHeight,cx:i,cy:r},h>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.x-this.startX),1e3),n.min(n.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,r=this.pages.length,s=0;if(n.abs(t-this.absStartX)<this.snapThresholdX&&n.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);r>i;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(r=this.pages[i].length;r>s;s++)if(e>=this.pages[0][s].cy){e=this.pages[0][s].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,0>i?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),s==this.currentPage.pageY&&(s+=this.directionY,0>s?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),e=this.pages[0][s].y),{x:t,y:e,pageX:i,pageY:s}},goToPage:function(t,e,i,r){r=r||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var s=this.pages[t][e].x,o=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||n.max(n.max(n.min(n.abs(s-this.x),1e3),n.min(n.abs(o-this.y),1e3)),300):i,this.currentPage={x:s,y:o,pageX:t,pageY:e},this.scrollTo(s,o,i,r)},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,0>n&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(){var e,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in n)this.options.keyBindings[e]=this.options.keyBindings[e]||n[e];a.addEvent(t,"keydown",this),this.on("destroy",function(){a.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,r=i?this.currentPage.pageX:this.x,s=i?this.currentPage.pageY:this.y,o=a.getTime(),l=this.keyTime||0,h=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(n.round(e.x),n.round(e.y)),this.isInTransition=!1),this.keyAcceleration=200>o-l?n.min(this.keyAcceleration+h,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?r+=i?1:this.wrapperWidth:s+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?r-=i?1:this.wrapperWidth:s-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:r=i?this.pages.length-1:this.maxScrollX,s=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:r=0,s=0;break;case this.options.keyBindings.left:r+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:s+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:r-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:s-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(r,s);r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollX&&(r=this.maxScrollX,this.keyAcceleration=0),s>0?(s=0,this.keyAcceleration=0):s<this.maxScrollY&&(s=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(r,s,0),this.keyTime=o}},_animate:function(t,e,n,i){function r(){var p,f,d,g=a.getTime();return g>=u?(s.isAnimating=!1,s._translate(t,e),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(g=(g-c)/n,d=i(g),p=(t-l)*d+l,f=(e-h)*d+h,s._translate(p,f),s.isAnimating&&o(r),void(3==s.options.probeType&&s._execEvent("scroll")))}var s=this,l=this.x,h=this.y,c=a.getTime(),u=c+n;this.isAnimating=!0,r()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},s.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),a.removeEvent(t,"touchend",this),a.removeEvent(t,a.prefixPointerEvent("pointerup"),this),a.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var n=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(t,"touchmove",this),this.options.disablePointer||a.addEvent(t,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,n,i,r,s=t.touches?t.touches[0]:t,o=a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=s.pageX-this.lastPointX,this.lastPointX=s.pageX,n=s.pageY-this.lastPointY,this.lastPointY=s.pageY,i=this.x+e,r=this.y+n,this._pos(i,r),1==this.scroller.options.probeType&&o-this.startTime>300?(this.startTime=o,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),r=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.scroller.x-i.x),1e3),n.min(n.abs(this.scroller.y-i.y),1e3)),300);(this.scroller.x!=i.x||this.scroller.y!=i.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=i,this.scroller.scrollTo(i.x,i.y,r,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.indicatorStyle[a.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[a.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=n.max(n.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=n.max(n.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&n.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&n.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=n.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=n.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=n.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=n.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")
},_pos:function(t,e){0>t?t=0:t>this.maxPosX&&(t=this.maxPosX),0>e?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?n.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?n.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?"1":"0",this.wrapperStyle[a.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},i.utils=a,"undefined"!=typeof module&&module.exports?module.exports=i:t.IScroll=i}(window,document,Math),function(t){if("function"==typeof bootstrap)bootstrap("jade",t);else if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeJade=t}else"undefined"!=typeof window?window.jade=t():global.jade=t()}(function(){return function t(e,n,i){function r(o,a){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var h=n[o]={exports:{}};e[o][0].call(h.exports,function(t){var n=e[o][1][t];return r(n?n:t)},h,h.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,n){function i(t){return null!=t&&""!==t}function r(t){return Array.isArray(t)?t.map(r).filter(i).join(" "):t}Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),n.merge=function(t,e){var n=t["class"],r=e["class"];(n||r)&&(n=n||[],r=r||[],Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]),t["class"]=n.concat(r).filter(i));for(var s in e)"class"!=s&&(t[s]=e[s]);return t},n.attrs=function(t,e){var i=[],s=t.terse;delete t.terse;var o=Object.keys(t),a=o.length;if(a){i.push("");for(var l=0;a>l;++l){var h=o[l],c=t[h];"boolean"==typeof c||null==c?c&&i.push(s?h:h+'="'+h+'"'):0==h.indexOf("data")&&"string"!=typeof c?i.push(h+"='"+JSON.stringify(c)+"'"):"class"==h?e&&e[h]?(c=n.escape(r(c)))&&i.push(h+'="'+c+'"'):(c=r(c))&&i.push(h+'="'+c+'"'):i.push(e&&e[h]?h+'="'+n.escape(c)+'"':h+'="'+c+'"')}}return i.join(" ")},n.escape=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},n.rethrow=function s(e,n,i,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||r))throw e.message+=" on line "+i,e;try{r=r||t("fs").readFileSync(n,"utf8")}catch(o){s(e,null,i)}var a=3,l=r.split("\n"),h=Math.max(i-a,0),c=Math.min(l.length,i+a),a=l.slice(h,c).map(function(t,e){var n=e+h+1;return(n==i?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+i+"\n"+a+"\n\n"+e.message,e}},{fs:2}],2:[function(){},{}]},{},[1])(1)});