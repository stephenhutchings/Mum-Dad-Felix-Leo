{"version":3,"sources":["app/app.coffee","app/collections/names.coffee","app/initialize.coffee","app/lib/audio.coffee","app/lib/config.coffee","app/lib/dialog.coffee","app/lib/element.toggle.coffee","app/lib/prefix.coffee","app/lib/preload.coffee","app/lib/router.coffee","app/lib/touch.coffee","app/models/user.coffee","app/views/book.coffee","app/views/home.coffee","app/views/main.coffee","app/views/templates/book.jade","app/views/templates/home.jade","app/views/templates/main.jade","app/views/templates/pages/page_01.jade","app/views/templates/pages/page_02.jade","app/views/templates/pages/page_03.jade","app/views/templates/pages/page_04.jade","app/views/templates/pages/page_05.jade","app/views/templates/pages/page_06.jade","app/views/templates/pages/page_07.jade","app/views/templates/pages/page_08.jade","app/views/templates/pages/page_09.jade","app/views/templates/pages/page_10.jade","app/views/templates/pages/page_11.jade"],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA","file":"../www/js/app.js","sourcesContent":["# The application is the singleton which stores all collections, models, the\n# router and sets up other modules. It is invoked by the initializer.\n\nNiceTouch = require(\"lib/touch\")\nPreloader = require(\"lib/preload\")\n\n# Models\nUserModel = require(\"models/user\")\n\n# Collections\nNamesCollection = require(\"collections/names\")\n\nApplication =\n  initialize: (callback) ->\n\n    # This loads all images in the spritesheet before hiding the splash screen\n    Preloader.initialize()\n\n    # This adds the \"iostap\" event, a nicer implementation of Zepto's tap\n    NiceTouch.initialize()\n\n    # Light colored status bar\n    StatusBar?.styleLightContent()\n\n    # No scrolling of webview\n    Keyboard?.disableScroll(true)\n\n    # Require the router during initialization to avoid infinite requiring\n    Router = require(\"lib/router\")\n\n    ready = (firstRun) =>\n      # The router is a singleton that handles app-wide navigation\n      # Now the the requisite collections are fetched we'll let the\n      # router continue\n      @router = new Router()\n\n      # Everything is now loaded, so callback the callback which start\n      # Backbone.history in the initializer\n      callback()\n\n    # Create the user, where an error suggests the app is running for the\n    # first time, so we pass a variable to show this\n    @currentUser = new UserModel(id: \"ME\")\n    @currentUser.fetch\n      success: => ready()\n      error: => ready(true)\n\nmodule.exports = Application\n","class NamesCollection extends Backbone.Collection\n\n  url: \"data/names.json\"\n\n  initialize: ->\n    @prefiltered = {}\n\n  ready: ->\n    for i in [3..9]\n      @prefiltered[i] = @filter (m) -> m.get(\"name\").length is i\n\n  randomName: (length) ->\n    reduced = @prefiltered[length]\n\n    if reduced\n      random = Math.floor reduced.length * Math.random()\n      reduced[random].get(\"name\")\n    else\n      random = Math.floor @length * Math.random()\n      @at(random).get(\"name\")\n\nmodule.exports = NamesCollection\n","app = require \"app\"\n\napp.initialize ->\n  Backbone.history.start()\n","# Empty style in which we can check for the existence of CSS property support.\nemptyStyle = document.createElement(\"div\").style\n\nAudioPlayer = ->\n  @loadAudio()\n  return this\n\nAudioPlayer:: =\n  paths:\n    \"bark\": \"bark.mp3\"\n    \"quack\": \"quack.mp3\"\n\n  loadAudio: ->\n    @sounds = {}\n    for key, val of @paths\n      @sounds[key] = new Audio(\"192.168.0.6:3333/mp3/\" + val)\n\n  play: (sound) ->\n    @sounds[sound]?.play?()\n\nplayer = new AudioPlayer()\n\n# Wrap the prefix function to provide quick access to the good stuff.\nmodule.exports = (sound) -> player.play(sound)\n","module.exports =\n  appStoreURL: \"https://itunes.apple.com/us/app/...\"\n\n  supportURL: \"mailto:stephen@s-ings.com?subject=Feedback\"\n\n  googleTrackingID: \"\"\n\n  device: if (window.innerWidth <= 320) then 0 else 1\n","# Proxy for various dialogs. Delegates to native browser dialogs in\n# environments where Cordova plugins are unavailable.\n\nclass Dialog\n  prompt: (msg, callback, title, btns = [\"Cancel\", \"OK\"], placeholder = \"\") ->\n    if navigator.notification?.prompt\n        navigator.notification.prompt(\n          msg\n          callback\n          title\n          btns\n          placeholder\n        )\n      else\n        input = window.prompt(msg, placeholder)\n        callback?(\n          input1: input\n          buttonIndex: if input then 2 else 1\n        )\n\nmodule.exports =\n  new Dialog\n","# Test whether the browser can toggle classes based on rules\ndo ->\n  div = document.createElement(\"div\")\n  div.classList.toggle \"t\", false\n\n  if div.classList.contains \"t\"\n    console?.log \"Overwriting toggle with force ability.\"\n    DOMTokenList::toggle = (klass, rule) ->\n      if @contains(klass) and !rule\n        @remove klass\n      else if rule or !rule?\n        @add klass\n\n      @contains klass\n","# Empty style in which we can check for the existence of CSS property support.\nemptyStyle = document.createElement(\"div\").style\n\nPrefix = ->\n\nPrefix:: =\n  vendorPrefixes: {}\n\n  _getVendorPrefixFor: (style) ->\n    s = style.substr(0, 1)\n    S = s.toUpperCase()\n\n    for vendor in [s, \"webkit#{S}\", \"Moz#{S}\", \"ms#{S}\", \"O#{S}\"]\n      prefixed = vendor + style.substr(1)\n      return vendor.substr(0, vendor.length - 1) if prefixed of emptyStyle\n\n    false\n\n  _camelCase: (style) ->\n    style.replace /\\-(\\w)/gi, (str, w) -> w.toUpperCase()\n\n  prefix: (style) ->\n    style = @_camelCase style\n    vendorPrefix = @_getVendorPrefixFor style\n\n    # This property requires no prefix\n    if vendorPrefix is \"\"\n      style\n\n    # Return the stored value or add it to the map if calculating for the\n    # first time.\n    else if vendorPrefix\n      @vendorPrefixes[style]?= vendorPrefix +\n                               style.charAt(0).toUpperCase() +\n                               style.substr(1)\n\n    # This property is not supported at all\n    else\n      false\n\n# Use a singleton\nmyPrefix = new Prefix()\n\n# Wrap the prefix function to provide quick access to the good stuff.\nmodule.exports = (style) -> myPrefix.prefix style\n","# Preload images before hiding splash\nPreloader =\n  initialize: ->\n    count = 0\n    extraDelayTimeout = 300\n    didNotFireTimeout = 3000\n\n    imageRegEx = /(file|http)\\:([^\\)]+)(png|gif|jpeg|jpg)/\n\n    hideSplashScreen = (msg = \"\") ->\n      window.clearTimeout(didNotFireTimeout)\n\n      window.setTimeout (->\n        navigator.splashscreen?.hide()\n        document.documentElement.classList.add \"preloaded\"\n        log \"hideSplashScreen() #{msg}\"\n      ), extraDelayTimeout\n\n    # Unless there is an error, increase the count and check whether we're done\n    onLoad = (src, images, err) ->\n      count++ unless err\n      if count is images.length\n        log \"✔ success #{count} images\"\n        hideSplashScreen()\n\n    # If there's an error, log it, remove from images and trigger hasLoaded\n    # with an error\n    onError = (src, images) ->\n      log \"✕ error \" + src\n      images.splice(images.indexOf(src), 1)\n      onLoad(src, images, true)\n\n    # For every stylesheet, add to array and grab all the unique image urls\n    loadImages = ->\n      images = []\n      log(\"initialize()\")\n\n      for styleSheet in document.styleSheets\n        images = images.concat(\n          Array.prototype.slice.call(styleSheet.cssRules)\n          # Any reference to an image\n          .map( (c) ->\n            (c.cssText.match(imageRegEx) or [])[0]\n          )\n\n          # Exists and is unique\n          .filter( (c, i, arr) -> c and arr.indexOf(c) is i)\n\n          # @2x versions for retina screens\n          .filter( (c) -> !!c.match(\"@2x\") is (window.devicePixelRatio > 1) )\n        )\n\n      # Straight to load if there's none to be had\n      return hideSplashScreen() unless images.length > 0\n\n      # Add loading callbacks before changing source\n      images.forEach (src) ->\n        img = new Image()\n        img.onload =  -> onLoad(src, images)\n        img.onerror = -> onError(src, images)\n        img.src = src\n\n    log = ->\n      for argument in arguments\n        type = \"%s\" if typeof (argument) is \"string\"\n        type = \"%d\" if typeof (argument) is \"number\"\n        type = \"%O\" if typeof (argument) is \"object\"\n\n        console?.log?(\"%cPRELOADER →\" + type,\n                      \"color:#333;background:#eee;padding:0 4px;\",\n                      argument)\n\n    # Get started by showing the splashscreen and loading the images\n    navigator?.splashscreen?.show()\n    loadImages()\n\n    # If it takes this long, continue anyway\n    didNotFireTimeout = window.setTimeout (->\n      hideSplashScreen(\"timed out\")\n    ), didNotFireTimeout\n\nmodule.exports = Preloader\n","# The app router watches the browser's navigation and plugs to the\n# corresponding action on the mainView\n\napp = require(\"app\")\nMainView = require(\"views/main\")\n\nclass AppRouter extends Backbone.Router\n\n  # Force the details route to trigger on color changes and create\n  # the view that controls rendering of all subviews\n  initialize: ->\n    @mainView = new MainView(el: \"body\")\n\n  # Bind the routes to their corresponding methods\n  routes:\n    \"home\":         \"home\"\n    \"page(/:page)\": \"book\"\n\n    \"*default\":     \"default\"\n\n  home: ->\n    @mainView.display(\"home\")\n\n  book: (page = 1) ->\n    @mainView.display(\"book\", page: page)\n\n  default: ->\n    @navigate \"home\", true\n\nmodule.exports = AppRouter\n","# Creates a new zepto event called \"iostap\", which creates pseudo active\n# states (\"__active\") for all elements that are touched.\n\nmodule.exports =\n  initialize: ->\n\n    # The touch object stores the current touch information\n    touch = {}\n\n    # Multi-device events\n    isTouch = \"ontouchstart\" of window\n    _start  = if isTouch then \"touchstart\" else \"mousedown\"\n    _move   = if isTouch then \"touchmove\" else \"mousemove\"\n    _end    = if isTouch then \"touchend\" else \"mouseup\"\n\n    # Buffers are proportional to overall size of the window\n    nearBuffer       = Math.pow(window.innerHeight * window.innerWidth, 0.35)\n    activeClass      = \"__active\"\n    minimumActiveMS  = 100\n    nearEnough       = null\n    inputRegEx       = /INPUT|LABEL|TEXTAREA|SELECT/\n\n    tapEvent = new CustomEvent \"iostap\",\n      bubbles: true\n      cancelable: true\n\n    parentIfText = (node) ->\n      if \"tagName\" of node then node else node.parentNode\n\n    parentNodes = (node) ->\n      while node.parentNode\n        nodes.push(node)\n        node = node.parentNode\n\n    toggleActiveState = (isEnd) ->\n      nearEnough = touch? and\n                   Math.abs(touch.x1 - touch.x2) < nearBuffer and\n                   Math.abs(touch.y1 - touch.y2) < nearBuffer\n\n      if nearEnough\n        el = touch.el\n        while el.parentNode\n          el.classList.add activeClass\n          break if el.dataset.nobubble\n          el = el.parentNode\n      else\n        for el in document.querySelectorAll(\".\" + activeClass)\n          el.classList.remove activeClass\n\n    onStart = (e) ->\n      _e = if isTouch then e.touches[0] else e\n      el = parentIfText(_e.target)\n\n      touch =\n        el: el\n        x1: _e.clientX\n        y1: _e.clientY\n\n      toggleActiveState(false)\n      onMove(e)\n\n    onMove = (e) ->\n      return unless touch?\n\n      _e = if isTouch then e.touches[0] else e\n      touch.x2 = _e.clientX\n      touch.y2 = _e.clientY\n      toggleActiveState(false)\n\n    onEnd = ->\n      return unless touch? and touch.el?\n\n      touch.el.dispatchEvent(tapEvent) if nearEnough\n      touch.el.focus() if touch.el.nodeName.match inputRegEx\n\n      touch = null\n\n      window.setTimeout (->\n        toggleActiveState(true)\n      ), minimumActiveMS\n\n    onCancel = ->\n      return unless touch?\n\n      touch = null\n      toggleActiveState(true)\n\n    onClick = (e) ->\n      unless e.target.type is \"file\"\n        e.preventDefault()\n        false\n\n    Backbone?.on(\"didscroll\", onCancel)\n\n    document.body.addEventListener(_start, onStart)\n    document.body.addEventListener(_move, onMove)\n    document.body.addEventListener(_end, onEnd)\n\n    if isTouch\n      document.body.addEventListener(\"touchcancel\", onCancel)\n      document.body.addEventListener(\"click\", onClick)\n\n","# The userModel stores the user's info, which is persisted in LocalStorage.\napp = require(\"app\")\n\nclass UserModel extends Backbone.Model\n\n  localStorage: new Backbone.LocalStorage(\"READER\")\n\n  initialize: ->\n    @on \"change\", -> @save()\n    @on \"sync\", @checkVersion, this\n\n  checkVersion: (model) ->\n    if @get(\"version\") isnt @defaults.version\n      console?.log? \"New version: --> Reseting User Model\"\n      @set(@defaults)\n\n  defaults:\n    version: \"0.0.1\"\n\nmodule.exports = UserModel\n","app = require \"app\"\nprefix = require \"lib/prefix\"\nplayer = require \"lib/audio\"\n\n# Templates\ntemplate = require \"./templates/book\"\n\nclass BookView extends Backbone.NativeView\n\n  id: \"book-view\"\n\n  events:\n    \"touchstart .char\": \"startChar\"\n    \"touchmove .char\": \"moveChar\"\n    \"touchend .char\": \"endChar\"\n\n  initialize: (params, callback) ->\n    @render(params)\n    callback()\n\n    window.addEventListener \"orientationchange\", =>\n      @onOrientationChange()\n      @sizeContent()\n      @scrollView?.refresh()\n      @onScrollEnd(true)\n\n  render: (params) ->\n    @el.innerHTML = template()\n\n    @pages = @el.querySelectorAll(\".page\")\n\n    @sizeContent()\n\n    @currentPage = params.page\n\n    window.setTimeout (=>\n      @wrapLetters()\n      @applyDelays()\n\n      window.setTimeout (=>\n        @scrollView = new IScroll @el,\n          scrollX: true\n          scrollY: false\n          snap: true\n          tap: \"scrolltap\"\n          deceleration: 0.002\n          indicators:\n            el: \"#indicator\"\n            resize: true\n            shrink: \"clip\"\n            listenY: false\n            ignoreBoundaries: true\n\n        @scrollView.goToPage(params.page, 0, 0)\n        @scrollViewReady()\n      ), 100\n    ), 200\n\n  display: (callback) ->\n    # @scrollView?.refresh()\n    @onScrollEnd(true)\n    callback()\n\n  scrollViewReady: ->\n    @scrollView.on \"scrollEnd\", => @onScrollEnd()\n    @scrollView.on \"scrollStart\", => @onScrollStart()\n\n    @onScrollEnd(true)\n\n  onScrollStart: ->\n    @el.classList.add(\"scrolling\")\n\n  onScrollEnd: (force) ->\n    @el.classList.remove(\"scrolling\")\n\n    i = +@scrollView?.currentPage?.pageX\n\n    if force is true or i isnt @currentPage\n      @currentPage = i\n      app.router.navigate(\"page/#{i}\")\n\n      for page, j in @pages\n        page.classList.remove \"active\"\n        page.classList.remove \"hidden\"\n        page.classList.toggle \"inactive\", i isnt j\n\n      for char in @el.querySelectorAll(\".char\")\n        char.style[prefix \"transform\"] = \"\"\n\n      @pages.item(i).querySelector(\".text\")?.offsetWidth\n\n    @pages.item(i).classList.add \"active\"\n\n    for char in @pages.item(i).querySelectorAll(\".char\")\n      char.style[prefix \"transform\"] =\n        \"translate3d(0, 0, 0) scale(1) rotate(#{_.random(-12, 12)}deg)\"\n\n  startChar: (e) ->\n    @canRotate = true\n    e.preventDefault()\n    e.stopImmediatePropagation()\n    @moveChar(e)\n\n  moveChar: (e) ->\n    return unless @canRotate\n\n    e.preventDefault()\n\n    tar = document.elementFromPoint(e.touches[0].pageX, e.touches[0].pageY)\n    return unless tar?.classList.contains \"char\"\n\n    @scrollView.disable()\n\n    rotation = _.random(-12, 12) - 360 * _.random(-2, 2)\n    transitionDelay = tar.style[prefix \"transitionDelay\"]\n\n    tar.style[prefix \"pointer-events\"] = \"none\"\n    tar.style[prefix \"transitionDelay\"] = \"0ms\"\n    tar.style[prefix \"transform\"] =\n      \"translate3d(0, 0, 0) scale(1.2) rotate(#{rotation}deg)\"\n\n    if tar.dataset.sound\n      player tar.dataset.sound\n\n    window.setTimeout (->\n      tar.style[prefix \"pointer-events\"] = \"\"\n      tar.style[prefix \"transform\"] =\n          \"translate3d(0, 0, 0) scale(1) rotate(#{rotation}deg)\"\n      tar.offsetWidth\n      tar.style[prefix \"transitionDelay\"] = transitionDelay\n    ), 300\n\n  endChar: (e) ->\n    @canRotate = false\n    @scrollView.enable()\n\n  wrapLetters: ->\n    for el, i in @el.querySelectorAll(\"p\")\n      count = 0\n      content = \"\"\n      replace = (w) ->\n        count++\n        switch w\n          when \" \"\n            \"&nbsp;\"\n          when \"\"\n            \"<br />\"\n          else\n            \"<span class='char char-#{count}'>#{w}</span>\"\n\n      for node in el.childNodes\n        if node.nodeType is 3\n          content += node.textContent.replace(/./g, replace)\n\n        else if node.nodeType is 1 and node.innerHTML isnt \"\"\n          node.innerHTML =\n            node.innerHTML.replace /(([\\w'])(?![^(<|\\&)]*?(>|;))|(\\&\\w+;))/g,\n              replace\n\n          content += node.outerHTML\n        else\n          content += node.outerHTML\n\n      el.innerHTML = content\n\n  applyDelays: ->\n    for el, j in @el.querySelectorAll(\"p\")\n      j = 0\n      p = el\n      j++ while p = p.previousSibling\n\n      for char, i in el.querySelectorAll \".char\"\n        char.style[prefix \"transition\"] =\n          \"all 600ms #{i * 40 + j * 1500}ms cubic-bezier(.36,1.47,.54,.89)\"\n\n  sizeContent: ->\n    width = window.innerWidth\n\n    for page in @pages\n      page.style.width = width + \"px\"\n      page.classList.add(\"hidden\")\n\n    @el.querySelector(\"#pages\").style.width = width * @pages.length + \"px\"\n\n  onOrientationChange: (force) ->\n    @el.classList.toggle(\"landscape\", window.orientation % 180 isnt 0)\n    @el.classList.toggle(\"portrait\", window.orientation % 180 is 0)\n\n  stopListening: ->\n    super\n\n    window.removeEventListener \"orientationchange\"\n\nmodule.exports = BookView\n","app = require \"app\"\n\n# Templates\ntemplate = require \"./templates/home\"\n\nclass HomeView extends Backbone.NativeView\n\n  id: \"home-view\"\n\n  events:\n    \"touchmove\": \"preventDefault\"\n\n  initialize: (params, callback) ->\n    @render()\n    callback()\n\n  render: ->\n    @el.innerHTML = template()\n\n  display: (callback) ->\n    callback()\n\n  preventDefault: (e) ->\n    e.preventDefault()\n\nmodule.exports = HomeView\n","# The MainView holds the wrapper template and is used to control rendering\n# between the different child views.\nrequire(\"lib/element.toggle\")\n\napp = require \"app\"\ntemplate = require \"views/templates/main\"\nPrefix = require(\"lib/prefix\")\n\n# Cache frequently used inbound/outbound containers, which are used\n# when rendering new views\ncontent = inbound = outbound = null\n\nisTouch = \"ontouchstart\" of window\n\nclass MainView extends Backbone.NativeView\n\n  currentClass: \"none\"\n  views: {}\n\n  events:\n    \"iostap a[href]\": \"navigateWithoutDelay\"\n\n  # Add the html from the corresponding template and create the child views\n  initialize: ->\n    @el.innerHTML = template()\n\n    # View rendering elements\n    inbound = @el.querySelector(\"#inbound\")\n    outbound = @el.querySelector(\"#outbound\")\n    content = @el.querySelector(\"#content\")\n\n    @classForDeviceVersion()\n    @classForDeviceSize()\n\n  classForDeviceVersion: ->\n    @el.classList.toggle(\"ios-lt-7\", window.device?.version.match(/[\\d]+/) < 7)\n\n  classForDeviceSize: ->\n    if window.innerWidth < 600\n      @el.classList.add \"mobile\"\n\n  # If the link contains a hash, follow the route as normal. \"mailto\" links\n  # open the Cordova email plugin, with the link broken into its segments.\n  # Otherwise, open the inAppBrowser with the link.\n  navigateWithoutDelay: (e) ->\n    if e.delegateTarget.hash\n      app.router.navigate(e.delegateTarget.hash, true)\n\n    else if e.delegateTarget.href.match(\"mailto:\") and window.plugin?.email?\n      href = e.delegateTarget.href.replace(\"mailto:\", \"\")\n      to = href.split(\"?subject=\")[0]\n      sub = (href.split(\"?subject=\")[1] or \"\").split(\"&body=\")[0]\n      body = href.split(\"&body=\")[1]\n\n      window.plugin.email.open\n        to:       [to]\n        subject:  window.decodeURIComponent(sub or \"\")\n        body:     window.decodeURIComponent(body or \"\")\n\n    else\n      window.open(e.delegateTarget.href, \"_system\")\n\n  # Create a new view based on the child view name and params passed. Avoid\n  # this if its the same view already showing, and enclass the main view\n  # element for styling subview content.\n  display: (child, params) ->\n    View = require \"./#{child}\"\n    klass = \"#{child}-active\"\n    done = (callback) => @afterDisplay(callback)\n\n    @undelegateEvents()\n\n    inbound.removeAttribute(\"id\")\n    outbound.removeAttribute(\"id\")\n    inbound.id = \"outbound\"\n    outbound.id = \"inbound\"\n\n    @el.classList.remove \"display\", @currentClass\n    @el.classList.add klass\n\n    @currentClass = klass\n\n    # Remove any listeners from the current view\n    if @currentView?\n      @currentView.stopListening()\n      @currentView.undelegateEvents()\n      @currentView.hide?()\n\n    if @views[child] and @views[child].cid isnt @currentView.cid\n      @currentView = @views[child]\n      @currentView.display done\n    else\n      @currentView = new View params, done\n      @currentView.el.classList.add(\"view\")\n      @currentView.undelegateEvents()\n      @views[child] = @currentView unless @currentView.cache is false\n\n    outbound.removeChild(outbound.lastChild) while (outbound.lastChild)\n    outbound.appendChild @currentView.el\n\n  afterDisplay: (callback) ->\n    window.clearTimeout @afterTimeout\n    @afterTimeout = window.setTimeout (=>\n      @el.classList.add(\"display\")\n      callback() if callback\n      @afterTransition()\n    ), 10\n\n  # Remove oldView after transition\n  afterTransition: ->\n    window.clearTimeout @timeout\n    @timeout = window.setTimeout( =>\n      @currentView.delegateEvents()\n      @delegateEvents()\n      @swapContainers()\n    , 600)\n\n  swapContainers: ->\n    _inb = outbound\n    _otb = inbound\n    inbound = _inb\n    outbound = _otb\n    outbound.removeChild(outbound.lastChild) while (outbound.lastChild)\n\nmodule.exports = MainView\n","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"pages\\\"><div id=\\\"page-01\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">Mum <small class=\\\"small\\\">and</small> Dad,<br/>Felix <small class=\\\"small\\\">and</small> Leo</p><p class=\\\"p2\\\"><small class=\\\"small\\\">Spelled</small><br/> F-E-L-I-X<br/>L <small class=\\\"small\\\">&amp;<br/>then</small> E-O</p></div></div><div id=\\\"page-02\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">Felix is tall<br/>and loud<br/>and cheeky.</p><p class=\\\"p2\\\">Leo is small<br/>and round<br/>and leaky.</p></div><img id=\\\"smile\\\" src=\\\"img/smile.svg\\\"/></div><div id=\\\"page-03\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">Dad is taller and <br/>has his glasses.<br/>Mum is smaller and<br/>has her passes.</p><p class=\\\"p2\\\">Mum has passes for<br/>the train and the zoo.<br/>Dad has glasses to<br/>see who is who.</p></div><img id=\\\"glasses\\\" src=\\\"img/glasses.svg\\\" class=\\\"char\\\"/><img id=\\\"passes\\\" src=\\\"img/passes.svg\\\" class=\\\"char\\\"/></div><div id=\\\"page-04\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\"> \\nOn the weekend they<br/>all go to the park.</p><p class=\\\"p2 p2b\\\">There are ducks<br/>that may quack. </p><p class=\\\"p3\\\">There are dogs <br/>that might bark.</p></div><img id=\\\"duck\\\" src=\\\"img/duck.svg\\\" data-sound=\\\"quack\\\" class=\\\"char\\\"/><img id=\\\"dog\\\" src=\\\"img/dog.svg\\\" data-sound=\\\"bark\\\" class=\\\"char\\\"/></div><div id=\\\"page-05\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\"> \\nTogether they go<br/>on a bicycle ride&hellip;</p><p class=\\\"p2\\\"> \\n&hellip;if the weather<br/>is nice and it's<br/>not raining<br/>outside!</p></div><img id=\\\"bicycle-1\\\" src=\\\"img/bicycle-1.svg\\\" class=\\\"char\\\"/><img id=\\\"bicycle-2\\\" src=\\\"img/bicycle-2.svg\\\" class=\\\"char\\\"/></div><div id=\\\"page-06\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\"> \\nWhen the kitchen is empty<br/>the market has food.</p><p class=\\\"p2 p2b\\\">With cheese from the guy<br/>and meat from the dude.</p><p class=\\\"p3\\\">Sometimes there is<br/>even a treat&hellip;<br/>Which you have to eat<br/>so as not to be rude!</p></div><img id=\\\"cheese\\\" src=\\\"img/cheese.svg\\\" class=\\\"char\\\"/><img id=\\\"sausage\\\" src=\\\"img/sausage.svg\\\" class=\\\"char\\\"/></div><div id=\\\"page-07\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">On Saturday morning<br/>they swim in the pool.</p><p class=\\\"p2 p2b\\\">Splashing is fun but<br/>to run is not cool.</p><p class=\\\"p3\\\">If you do it and trip&hellip;<br/>You will look like a fool!</p></div><img id=\\\"pool\\\" src=\\\"img/pool.svg\\\" class=\\\"char\\\"/><img id=\\\"swimmer\\\" src=\\\"img/swimmer.svg\\\" class=\\\"char\\\"/></div><div id=\\\"page-08\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">In the afternoon<br/>it's time to play,</p><p class=\\\"p2 p2b\\\">with trucks<br/>and cars&hellip;</p><p class=\\\"p3\\\">&hellip;until the end<br/>of the day.</p></div><img id=\\\"truck\\\" src=\\\"img/truck.svg\\\" class=\\\"char\\\"/></div><div id=\\\"page-09\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\"> \\nThen after dinner at<br/>the end of the night,</p><p class=\\\"p2 p2b\\\">they get into beds<br/>that are all <br/>soft and white.</p><p class=\\\"p3\\\">A kiss on the cheek<br/>and tucked in so tight&hellip;<br/>Mum and dad, it is time<br/>to turn off the light.</p></div><img id=\\\"star-1\\\" src=\\\"img/star-1.svg\\\"/><img id=\\\"star-2\\\" src=\\\"img/star-2.svg\\\"/></div><div id=\\\"page-10\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">Dad <small class=\\\"small\\\">and</small> Mum,<br/>Felix <small class=\\\"small\\\">and</small> Leo</p><p class=\\\"p2\\\"><small class=\\\"small\\\">&nbsp;That's</small><br/> F-E-L-I-X<br/>L <small class=\\\"small\\\">&amp;<br/>then</small> E-O</p></div></div><div id=\\\"page-11\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">The End!</p><div class=\\\"buttons\\\"><a href=\\\"#home\\\" class=\\\"button\\\">Back</a><a href=\\\"#page/0\\\" class=\\\"button\\\">Again!</a></div></div></div></div><div id=\\\"indicator\\\"><div id=\\\"inner\\\"></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<h1><span class=\\\"word word-1\\\">Mum, </span><span class=\\\"word word-2\\\">Dad, </span><span class=\\\"word word-3\\\">Felix  </span><span class=\\\"word word-4\\\">&amp; </span><span class=\\\"word word-5\\\">Leo</span><a href=\\\"#page/0\\\" class=\\\"button\\\">Begin</a></h1>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"wrapper\\\"><div id=\\\"content\\\"><div id=\\\"inbound\\\"></div><div id=\\\"outbound\\\"></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-01\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">Mum <small class=\\\"small\\\">and</small> Dad,<br/>Felix <small class=\\\"small\\\">and</small> Leo</p><p class=\\\"p2\\\"><small class=\\\"small\\\">Spelled</small><br/> F-E-L-I-X<br/>L <small class=\\\"small\\\">&amp;<br/>then</small> E-O</p></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-02\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">Felix is tall<br/>and loud<br/>and cheeky.</p><p class=\\\"p2\\\">Leo is small<br/>and round<br/>and leaky.</p></div><img id=\\\"smile\\\" src=\\\"img/smile.svg\\\"/></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-03\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">Dad is taller and <br/>has his glasses.<br/>Mum is smaller and<br/>has her passes.</p><p class=\\\"p2\\\">Mum has passes for<br/>the train and the zoo.<br/>Dad has glasses to<br/>see who is who.</p></div><img id=\\\"glasses\\\" src=\\\"img/glasses.svg\\\" class=\\\"char\\\"/><img id=\\\"passes\\\" src=\\\"img/passes.svg\\\" class=\\\"char\\\"/></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-04\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\"> \\nOn the weekend they<br/>all go to the park.</p><p class=\\\"p2 p2b\\\">There are ducks<br/>that may quack. </p><p class=\\\"p3\\\">There are dogs <br/>that might bark.</p></div><img id=\\\"duck\\\" src=\\\"img/duck.svg\\\" data-sound=\\\"quack\\\" class=\\\"char\\\"/><img id=\\\"dog\\\" src=\\\"img/dog.svg\\\" data-sound=\\\"bark\\\" class=\\\"char\\\"/></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-05\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\"> \\nTogether they go<br/>on a bicycle ride&hellip;</p><p class=\\\"p2\\\"> \\n&hellip;if the weather<br/>is nice and it's<br/>not raining<br/>outside!</p></div><img id=\\\"bicycle-1\\\" src=\\\"img/bicycle-1.svg\\\" class=\\\"char\\\"/><img id=\\\"bicycle-2\\\" src=\\\"img/bicycle-2.svg\\\" class=\\\"char\\\"/></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-06\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\"> \\nWhen the kitchen is empty<br/>the market has food.</p><p class=\\\"p2 p2b\\\">With cheese from the guy<br/>and meat from the dude.</p><p class=\\\"p3\\\">Sometimes there is<br/>even a treat&hellip;<br/>Which you have to eat<br/>so as not to be rude!</p></div><img id=\\\"cheese\\\" src=\\\"img/cheese.svg\\\" class=\\\"char\\\"/><img id=\\\"sausage\\\" src=\\\"img/sausage.svg\\\" class=\\\"char\\\"/></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-07\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">On Saturday morning<br/>they swim in the pool.</p><p class=\\\"p2 p2b\\\">Splashing is fun but<br/>to run is not cool.</p><p class=\\\"p3\\\">If you do it and trip&hellip;<br/>You will look like a fool!</p></div><img id=\\\"pool\\\" src=\\\"img/pool.svg\\\" class=\\\"char\\\"/><img id=\\\"swimmer\\\" src=\\\"img/swimmer.svg\\\" class=\\\"char\\\"/></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-08\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">In the afternoon<br/>it's time to play,</p><p class=\\\"p2 p2b\\\">with trucks<br/>and cars&hellip;</p><p class=\\\"p3\\\">&hellip;until the end<br/>of the day.</p></div><img id=\\\"truck\\\" src=\\\"img/truck.svg\\\" class=\\\"char\\\"/></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-09\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\"> \\nThen after dinner at<br/>the end of the night,</p><p class=\\\"p2 p2b\\\">they get into beds<br/>that are all <br/>soft and white.</p><p class=\\\"p3\\\">A kiss on the cheek<br/>and tucked in so tight&hellip;<br/>Mum and dad, it is time<br/>to turn off the light.</p></div><img id=\\\"star-1\\\" src=\\\"img/star-1.svg\\\"/><img id=\\\"star-2\\\" src=\\\"img/star-2.svg\\\"/></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-10\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">Dad <small class=\\\"small\\\">and</small> Mum,<br/>Felix <small class=\\\"small\\\">and</small> Leo</p><p class=\\\"p2\\\"><small class=\\\"small\\\">&nbsp;That's</small><br/> F-E-L-I-X<br/>L <small class=\\\"small\\\">&amp;<br/>then</small> E-O</p></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals) {\nvar buf = [];\nbuf.push(\"<div id=\\\"page-11\\\" class=\\\"page\\\"><div class=\\\"text\\\"><p class=\\\"p1\\\">The End!</p><div class=\\\"buttons\\\"><a href=\\\"#home\\\" class=\\\"button\\\">Back</a><a href=\\\"#page/0\\\" class=\\\"button\\\">Again!</a></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}